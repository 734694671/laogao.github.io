!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=4)}([function(a){"use strict";function d(){this.live2DModel=null,this.modelMatrix=null,this.eyeBlink=null,this.physics=null,this.pose=null,this.debugMode=!1,this.initialized=!1,this.updating=!1,this.alpha=1,this.accAlpha=0,this.lipSync=!1,this.lipSyncValue=0,this.accelX=0,this.accelY=0,this.accelZ=0,this.dragX=0,this.dragY=0,this.startTimeMSec=null,this.mainMotionManager=new j,this.expressionManager=new j,this.motions={},this.expressions={},this.isTexLoaded=!1}function e(){AMotion.prototype.constructor.call(this),this.paramList=new Array}function f(){this.id="",this.type=-1,this.value=null}function g(){this.nextBlinkTime=null,this.stateStartTime=null,this.blinkIntervalMsec=null,this.eyeState=r.STATE_FIRST,this.blinkIntervalMsec=4e3,this.closingMotionMsec=100,this.closedMotionMsec=50,this.openingMotionMsec=150,this.closeIfZero=!0,this.eyeID_L="PARAM_EYE_L_OPEN",this.eyeID_R="PARAM_EYE_R_OPEN"}function h(){this.tr=new Float32Array(16),this.identity()}function i(a,b){h.prototype.constructor.call(this),this.width=a,this.height=b}function j(){MotionQueueManager.prototype.constructor.call(this),this.currentPriority=null,this.reservePriority=null,this.super=MotionQueueManager.prototype}function k(){this.physicsList=new Array,this.startTimeMSec=UtSystem.getUserTimeMSec()}function l(){this.lastTime=0,this.lastModel=null,this.partsGroups=new Array}function m(a){this.paramIndex=-1,this.partsIndex=-1,this.link=null,this.id=a}function n(){this.EPSILON=.01,this.faceTargetX=0,this.faceTargetY=0,this.faceX=0,this.faceY=0,this.faceVX=0,this.faceVY=0,this.lastTimeSec=0}function o(){h.prototype.constructor.call(this),this.screenLeft=null,this.screenRight=null,this.screenTop=null,this.screenBottom=null,this.maxLeft=null,this.maxRight=null,this.maxTop=null,this.maxBottom=null,this.max=Number.MAX_VALUE,this.min=0}function p(){}var r,q=0;d.prototype.getModelMatrix=function(){return this.modelMatrix},d.prototype.setAlpha=function(a){a>.999&&(a=1),.001>a&&(a=0),this.alpha=a},d.prototype.getAlpha=function(){return this.alpha},d.prototype.isInitialized=function(){return this.initialized},d.prototype.setInitialized=function(a){this.initialized=a},d.prototype.isUpdating=function(){return this.updating},d.prototype.setUpdating=function(a){this.updating=a},d.prototype.getLive2DModel=function(){return this.live2DModel},d.prototype.setLipSync=function(a){this.lipSync=a},d.prototype.setLipSyncValue=function(a){this.lipSyncValue=a},d.prototype.setAccel=function(a,b,c){this.accelX=a,this.accelY=b,this.accelZ=c},d.prototype.setDrag=function(a,b){this.dragX=a,this.dragY=b},d.prototype.getMainMotionManager=function(){return this.mainMotionManager},d.prototype.getExpressionManager=function(){return this.expressionManager},d.prototype.loadModelData=function(a,b){var d,c=p.getPlatformManager();this.debugMode&&c.log("Load model : "+a),d=this,c.loadLive2DModel(a,function(a){return d.live2DModel=a,d.live2DModel.saveParam(),0!=Live2D.getError()?void console.error("Error : Failed to loadModelData()."):(d.modelMatrix=new i(d.live2DModel.getCanvasWidth(),d.live2DModel.getCanvasHeight()),d.modelMatrix.setWidth(2),d.modelMatrix.setCenterPosition(0,0),b(d.live2DModel),void 0)})},d.prototype.loadTexture=function(a,b,c){var d,e;q++,d=p.getPlatformManager(),this.debugMode&&d.log("Load Texture : "+b),e=this,d.loadTexture(this.live2DModel,a,b,function(){q--,0==q&&(e.isTexLoaded=!0),"function"==typeof c&&c()})},d.prototype.loadMotion=function(a,b,c){var e,f,d=p.getPlatformManager();this.debugMode&&d.log("Load Motion : "+b),e=null,f=this,d.loadBytes(b,function(b){e=Live2DMotion.loadMotion(b),null!=a&&(f.motions[a]=e),c(e)})},d.prototype.loadExpression=function(a,b,c){var f,d=p.getPlatformManager();this.debugMode&&d.log("Load Expression : "+b),f=this,d.loadBytes(b,function(b){null!=a&&(f.expressions[a]=e.loadJson(b)),"function"==typeof c&&c()})},d.prototype.loadPose=function(a,b){var d,c=p.getPlatformManager();this.debugMode&&c.log("Load Pose : "+a),d=this;try{c.loadBytes(a,function(a){d.pose=l.load(a),"function"==typeof b&&b()})}catch(a){console.warn(a)}},d.prototype.loadPhysics=function(a){var c,b=p.getPlatformManager();this.debugMode&&b.log("Load Physics : "+a),c=this;try{b.loadBytes(a,function(a){c.physics=k.load(a)})}catch(a){console.warn(a)}},d.prototype.hitTestSimple=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;if(null===this.live2DModel)return!1;if(d=this.live2DModel.getDrawDataIndex(a),0>d)return!1;for(e=this.live2DModel.getTransformedPoints(d),f=this.live2DModel.getCanvasWidth(),g=0,h=this.live2DModel.getCanvasHeight(),i=0,j=0;j<e.length;j+=2)k=e[j],l=e[j+1],f>k&&(f=k),k>g&&(g=k),h>l&&(h=l),l>i&&(i=l);return m=this.modelMatrix.invertTransformX(b),n=this.modelMatrix.invertTransformY(c),m>=f&&g>=m&&n>=h&&i>=n},d.prototype.hitTestSimpleCustom=function(a,b,c,d){return null!==this.live2DModel&&c>=a[0]&&c<=b[0]&&d<=a[1]&&d>=b[1]},e.prototype=new AMotion,e.EXPRESSION_DEFAULT="DEFAULT",e.TYPE_SET=0,e.TYPE_ADD=1,e.TYPE_MULT=2,e.loadJson=function(a){var g,h,i,j,k,l,m,n,o,q,b=new e,c=p.getPlatformManager(),d=c.jsonParseFromBytes(a);if(b.setFadeIn(parseInt(d.fade_in)>0?parseInt(d.fade_in):1e3),b.setFadeOut(parseInt(d.fade_out)>0?parseInt(d.fade_out):1e3),null==d.params)return b;for(g=d.params,h=g.length,b.paramList=[],i=0;h>i;i++)j=g[i],k=j.id.toString(),l=parseFloat(j.val),m=e.TYPE_ADD,n=null!=j.calc?j.calc.toString():"add",(m="add"===n?e.TYPE_ADD:"mult"===n?e.TYPE_MULT:"set"===n?e.TYPE_SET:e.TYPE_ADD)==e.TYPE_ADD?(o=null==j.def?0:parseFloat(j.def),l-=o):m==e.TYPE_MULT&&(o=null==j.def?1:parseFloat(j.def),0==o&&(o=1),l/=o),q=new f,q.id=k,q.type=m,q.value=l,b.paramList.push(q);return b},e.prototype.updateParamExe=function(a,b,c){var f,g;for(f=this.paramList.length-1;f>=0;--f)g=this.paramList[f],g.type==e.TYPE_ADD?a.addToParamFloat(g.id,g.value,c):g.type==e.TYPE_MULT?a.multParamFloat(g.id,g.value,c):g.type==e.TYPE_SET&&a.setParamFloat(g.id,g.value,c)},g.prototype.calcNextBlink=function(){return UtSystem.getUserTimeMSec()+Math.random()*(2*this.blinkIntervalMsec-1)},g.prototype.setInterval=function(a){this.blinkIntervalMsec=a},g.prototype.setEyeMotion=function(a,b,c){this.closingMotionMsec=a,this.closedMotionMsec=b,this.openingMotionMsec=c},g.prototype.updateParam=function(a){var b,c=UtSystem.getUserTimeMSec(),d=0;switch(this.eyeState){case r.STATE_CLOSING:d=(c-this.stateStartTime)/this.closingMotionMsec,d>=1&&(d=1,this.eyeState=r.STATE_CLOSED,this.stateStartTime=c),b=1-d;break;case r.STATE_CLOSED:d=(c-this.stateStartTime)/this.closedMotionMsec,d>=1&&(this.eyeState=r.STATE_OPENING,this.stateStartTime=c),b=0;break;case r.STATE_OPENING:d=(c-this.stateStartTime)/this.openingMotionMsec,d>=1&&(d=1,this.eyeState=r.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink()),b=d;break;case r.STATE_INTERVAL:this.nextBlinkTime<c&&(this.eyeState=r.STATE_CLOSING,this.stateStartTime=c),b=1;break;case r.STATE_FIRST:default:this.eyeState=r.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink(),b=1}this.closeIfZero||(b=-b),a.setParamFloat(this.eyeID_L,b),a.setParamFloat(this.eyeID_R,b)},r=function(){},r.STATE_FIRST="STATE_FIRST",r.STATE_INTERVAL="STATE_INTERVAL",r.STATE_CLOSING="STATE_CLOSING",r.STATE_CLOSED="STATE_CLOSED",r.STATE_OPENING="STATE_OPENING",h.mul=function(a,b,c){var d,e,f,g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;4>d;d++)for(e=0;4>e;e++)for(f=0;4>f;f++)g[d+4*e]+=a[d+4*f]*b[f+4*e];for(d=0;16>d;d++)c[d]=g[d]},h.prototype.identity=function(){for(var a=0;16>a;a++)this.tr[a]=0==a%5?1:0},h.prototype.getArray=function(){return this.tr},h.prototype.getCopyMatrix=function(){return new Float32Array(this.tr)},h.prototype.setMatrix=function(a){if(null!=this.tr&&this.tr.length==this.tr.length)for(var b=0;16>b;b++)this.tr[b]=a[b]},h.prototype.getScaleX=function(){return this.tr[0]},h.prototype.getScaleY=function(){return this.tr[5]},h.prototype.transformX=function(a){return this.tr[0]*a+this.tr[12]},h.prototype.transformY=function(a){return this.tr[5]*a+this.tr[13]},h.prototype.invertTransformX=function(a){return(a-this.tr[12])/this.tr[0]},h.prototype.invertTransformY=function(a){return(a-this.tr[13])/this.tr[5]},h.prototype.multTranslate=function(a,b){var c=[1,0,0,0,0,1,0,0,0,0,1,0,a,b,0,1];h.mul(c,this.tr,this.tr)},h.prototype.translate=function(a,b){this.tr[12]=a,this.tr[13]=b},h.prototype.translateX=function(a){this.tr[12]=a},h.prototype.translateY=function(a){this.tr[13]=a},h.prototype.multScale=function(a,b){var c=[a,0,0,0,0,b,0,0,0,0,1,0,0,0,0,1];h.mul(c,this.tr,this.tr)},h.prototype.scale=function(a,b){this.tr[0]=a,this.tr[5]=b},i.prototype=new h,i.prototype.setPosition=function(a,b){this.translate(a,b)},i.prototype.setCenterPosition=function(a,b){var c=this.width*this.getScaleX(),d=this.height*this.getScaleY();this.translate(a-c/2,b-d/2)},i.prototype.top=function(a){this.setY(a)},i.prototype.bottom=function(a){var b=this.height*this.getScaleY();this.translateY(a-b)},i.prototype.left=function(a){this.setX(a)},i.prototype.right=function(a){var b=this.width*this.getScaleX();this.translateX(a-b)},i.prototype.centerX=function(a){var b=this.width*this.getScaleX();this.translateX(a-b/2)},i.prototype.centerY=function(a){var b=this.height*this.getScaleY();this.translateY(a-b/2)},i.prototype.setX=function(a){this.translateX(a)},i.prototype.setY=function(a){this.translateY(a)},i.prototype.setHeight=function(a){var b=a/this.height,c=-b;this.scale(b,c)},i.prototype.setWidth=function(a){var b=a/this.width,c=-b;this.scale(b,c)},j.prototype=new MotionQueueManager,j.prototype.getCurrentPriority=function(){return this.currentPriority},j.prototype.getReservePriority=function(){return this.reservePriority},j.prototype.reserveMotion=function(a){return!(this.reservePriority>=a||this.currentPriority>=a||(this.reservePriority=a,0))},j.prototype.setReservePriority=function(a){this.reservePriority=a},j.prototype.updateParam=function(a){var b=MotionQueueManager.prototype.updateParam.call(this,a);return this.isFinished()&&(this.currentPriority=0),b},j.prototype.startMotionPrio=function(a,b){return b==this.reservePriority&&(this.reservePriority=0),this.currentPriority=b,this.startMotion(a,!1)},k.load=function(a){var b,c,d,e,f,g,h,i,j,l,m,n,o,q,r,s,t,u,v,w,x,y,z,A;for(b=new k,c=p.getPlatformManager(),d=c.jsonParseFromBytes(a),e=d.physics_hair,f=e.length,g=0;f>g;g++){for(h=e[g],i=new PhysicsHair,j=h.setup,l=parseFloat(j.length),m=parseFloat(j.regist),n=parseFloat(j.mass),i.setup(l,m,n),o=h.src,q=o.length,r=0;q>r;r++)s=o[r],t=s.id,u=PhysicsHair.Src.SRC_TO_X,v=s.ptype,"x"===v?u=PhysicsHair.Src.SRC_TO_X:"y"===v?u=PhysicsHair.Src.SRC_TO_Y:"angle"===v?u=PhysicsHair.Src.SRC_TO_G_ANGLE:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Src"),w=parseFloat(s.scale),x=parseFloat(s.weight),i.addSrcParam(u,t,w,x);for(y=h.targets,z=y.length,r=0;z>r;r++)A=y[r],t=A.id,u=PhysicsHair.Target.TARGET_FROM_ANGLE,v=A.ptype,"angle"===v?u=PhysicsHair.Target.TARGET_FROM_ANGLE:"angle_v"===v?u=PhysicsHair.Target.TARGET_FROM_ANGLE_V:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Target"),w=parseFloat(A.scale),x=parseFloat(A.weight),i.addTargetParam(u,t,w,x);b.physicsList.push(i)}return b},k.prototype.updateParam=function(a){for(var b=UtSystem.getUserTimeMSec()-this.startTimeMSec,c=0;c<this.physicsList.length;c++)this.physicsList[c].update(a,b)},l.load=function(a){var b,c,d,e,f,g,h,i,j,k,n,o,q,r,s,t,u;for(b=new l,c=p.getPlatformManager(),d=c.jsonParseFromBytes(a),e=d.parts_visible,f=e.length,g=0;f>g;g++){for(h=e[g],i=h.group,j=i.length,k=new Array,n=0;j>n;n++)if(o=i[n],q=new m(o.id),k[n]=q,null!=o.link)for(r=o.link,s=r.length,q.link=new Array,t=0;s>t;t++)u=new m(r[t]),q.link.push(u);b.partsGroups.push(k)}return b},l.prototype.updateParam=function(a){var b,c,d;if(null!=a)for(a!=this.lastModel&&this.initParam(a),this.lastModel=a,b=UtSystem.getUserTimeMSec(),c=0==this.lastTime?0:(b-this.lastTime)/1e3,this.lastTime=b,0>c&&(c=0),d=0;d<this.partsGroups.length;d++)this.normalizePartsOpacityGroup(a,this.partsGroups[d],c),this.copyOpacityOtherParts(a,this.partsGroups[d])},l.prototype.initParam=function(a){var b,c,d,e,f,g,h;if(null!=a)for(b=0;b<this.partsGroups.length;b++)for(c=this.partsGroups[b],d=0;d<c.length;d++)if(c[d].initIndex(a),e=c[d].partsIndex,f=c[d].paramIndex,!(0>e)&&(g=0!=a.getParamFloat(f),a.setPartsOpacity(e,g?1:0),a.setParamFloat(f,g?1:0),null!=c[d].link))for(h=0;h<c[d].link.length;h++)c[d].link[h].initIndex(a)},l.prototype.normalizePartsOpacityGroup=function(a,b,c){var d,e,f,g,h,i,j,k;for(d=-1,e=1,f=0;f<b.length;f++)if(g=b[f].partsIndex,h=b[f].paramIndex,!(0>g)&&0!=a.getParamFloat(h)){if(d>=0)break;d=f,e=a.getPartsOpacity(g),e+=c/.5,e>1&&(e=1)}for(0>d&&(d=0,e=1),f=0;f<b.length;f++)g=b[f].partsIndex,0>g||(d==f?a.setPartsOpacity(g,e):(j=a.getPartsOpacity(g),i=.5>e?-.5*e/.5+1:.5*(1-e)/.5,k=(1-i)*(1-e),k>.15&&(i=1-.15/(1-e)),j>i&&(j=i),a.setPartsOpacity(g,j)))},l.prototype.copyOpacityOtherParts=function(a,b){var c,d,e,f,g;for(c=0;c<b.length;c++)if(d=b[c],null!=d.link&&!(d.partsIndex<0))for(e=a.getPartsOpacity(d.partsIndex),f=0;f<d.link.length;f++)g=d.link[f],g.partsIndex<0||a.setPartsOpacity(g.partsIndex,e)},m.prototype.initIndex=function(a){this.paramIndex=a.getParamIndex("VISIBLE:"+this.id),this.partsIndex=a.getPartsDataIndex(PartsDataID.getID(this.id)),a.setParamFloat(this.paramIndex,1)},n.FRAME_RATE=30,n.prototype.setPoint=function(a,b){this.faceTargetX=a,this.faceTargetY=b},n.prototype.getX=function(){return this.faceX},n.prototype.getY=function(){return this.faceY},n.prototype.update=function(){var b,c,d,e,f,g,h,i,j,k,l,m,o,p,a=40/7.5/n.FRAME_RATE;return 0==this.lastTimeSec?void(this.lastTimeSec=UtSystem.getUserTimeMSec()):(b=UtSystem.getUserTimeMSec(),c=(b-this.lastTimeSec)*n.FRAME_RATE/1e3,this.lastTimeSec=b,d=.15*n.FRAME_RATE,e=c*a/d,f=this.faceTargetX-this.faceX,g=this.faceTargetY-this.faceY,Math.abs(f)<=this.EPSILON&&Math.abs(g)<=this.EPSILON||(h=Math.sqrt(f*f+g*g),i=a*f/h,j=a*g/h,k=i-this.faceVX,l=j-this.faceVY,m=Math.sqrt(k*k+l*l),(-e>m||m>e)&&(k*=e/m,l*=e/m,m=e),this.faceVX+=k,this.faceVY+=l,o=.5*(Math.sqrt(e*e+16*e*h-8*e*h)-e),p=Math.sqrt(this.faceVX*this.faceVX+this.faceVY*this.faceVY),p>o&&(this.faceVX*=o/p,this.faceVY*=o/p),this.faceX+=this.faceVX,this.faceY+=this.faceVY),void 0)},o.prototype=new h,o.prototype.getMaxScale=function(){return this.max},o.prototype.getMinScale=function(){return this.min},o.prototype.setMaxScale=function(a){this.max=a},o.prototype.setMinScale=function(a){this.min=a},o.prototype.isMaxScale=function(){return this.getScaleX()==this.max},o.prototype.isMinScale=function(){return this.getScaleX()==this.min},o.prototype.adjustTranslate=function(a,b){this.tr[0]*this.maxLeft+(this.tr[12]+a)>this.screenLeft&&(a=this.screenLeft-this.tr[0]*this.maxLeft-this.tr[12]),this.tr[0]*this.maxRight+(this.tr[12]+a)<this.screenRight&&(a=this.screenRight-this.tr[0]*this.maxRight-this.tr[12]),this.tr[5]*this.maxTop+(this.tr[13]+b)<this.screenTop&&(b=this.screenTop-this.tr[5]*this.maxTop-this.tr[13]),this.tr[5]*this.maxBottom+(this.tr[13]+b)>this.screenBottom&&(b=this.screenBottom-this.tr[5]*this.maxBottom-this.tr[13]);var c=[1,0,0,0,0,1,0,0,0,0,1,0,a,b,0,1];h.mul(c,this.tr,this.tr)},o.prototype.adjustScale=function(a,b,c){var e,f,g,d=c*this.tr[0];d<this.min?this.tr[0]>0&&(c=this.min/this.tr[0]):d>this.max&&this.tr[0]>0&&(c=this.max/this.tr[0]),e=[1,0,0,0,0,1,0,0,0,0,1,0,a,b,0,1],f=[c,0,0,0,0,c,0,0,0,0,1,0,0,0,0,1],g=[1,0,0,0,0,1,0,0,0,0,1,0,-a,-b,0,1],h.mul(g,this.tr,this.tr),h.mul(f,this.tr,this.tr),h.mul(e,this.tr,this.tr)},o.prototype.setScreenRect=function(a,b,c,d){this.screenLeft=a,this.screenRight=b,this.screenTop=d,this.screenBottom=c},o.prototype.setMaxScreenRect=function(a,b,c,d){this.maxLeft=a,this.maxRight=b,this.maxTop=d,this.maxBottom=c},o.prototype.getScreenLeft=function(){return this.screenLeft},o.prototype.getScreenRight=function(){return this.screenRight},o.prototype.getScreenBottom=function(){return this.screenBottom},o.prototype.getScreenTop=function(){return this.screenTop},o.prototype.getMaxLeft=function(){return this.maxLeft},o.prototype.getMaxRight=function(){return this.maxRight},o.prototype.getMaxBottom=function(){return this.maxBottom},o.prototype.getMaxTop=function(){return this.maxTop},p.platformManager=null,p.getPlatformManager=function(){return p.platformManager},p.setPlatformManager=function(a){p.platformManager=a},a.exports={L2DTargetPoint:n,Live2DFramework:p,L2DViewMatrix:o,L2DPose:l,L2DPartsParam:m,L2DPhysics:k,L2DMotionManager:j,L2DModelMatrix:i,L2DMatrix44:h,EYE_STATE:r,L2DEyeBlink:g,L2DExpressionParam:f,L2DExpressionMotion:e,L2DBaseModel:d}},function(a){"use strict";var d={DEBUG_LOG:!1,DEBUG_MOUSE_LOG:!1,DEBUG_DRAW_HIT_AREA:!1,DEBUG_DRAW_ALPHA_MODEL:!1,VIEW_MAX_SCALE:2,VIEW_MIN_SCALE:.8,VIEW_LOGICAL_LEFT:-1,VIEW_LOGICAL_RIGHT:1,VIEW_LOGICAL_MAX_LEFT:-2,VIEW_LOGICAL_MAX_RIGHT:2,VIEW_LOGICAL_MAX_BOTTOM:-2,VIEW_LOGICAL_MAX_TOP:2,PRIORITY_NONE:0,PRIORITY_IDLE:1,PRIORITY_SLEEPY:2,PRIORITY_NORMAL:3,PRIORITY_FORCE:4,MOTION_GROUP_IDLE:"idle",MOTION_GROUP_SLEEPY:"sleepy",MOTION_GROUP_TAP_BODY:"tap_body",MOTION_GROUP_FLICK_HEAD:"flick_head",MOTION_GROUP_PINCH_IN:"pinch_in",MOTION_GROUP_PINCH_OUT:"pinch_out",MOTION_GROUP_SHAKE:"shake",HIT_AREA_HEAD:"head",HIT_AREA_BODY:"body"};a.exports=d},function(a,b){"use strict";function d(a){f=a}function e(){return f}Object.defineProperty(b,"__esModule",{value:!0}),b.setContext=d,b.getContext=e;var f=void 0},function(a){"use strict";function d(){}d.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],d.depth=0,d.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],d.tmp=new Array(16),d.reset=function(){this.depth=0},d.loadIdentity=function(){for(var a=0;16>a;a++)this.currentMatrix[a]=0==a%5?1:0},d.push=function(){var b,a=(this.depth,16*(this.depth+1));for(this.matrixStack.length<a+16&&(this.matrixStack.length=a+16),b=0;16>b;b++)this.matrixStack[a+b]=this.currentMatrix[b];this.depth++},d.pop=function(){--this.depth<0&&(myError("Invalid matrix stack."),this.depth=0);for(var a=16*this.depth,b=0;16>b;b++)this.currentMatrix[b]=this.matrixStack[a+b]},d.getMatrix=function(){return this.currentMatrix},d.multMatrix=function(a){var b,c,d;for(b=0;16>b;b++)this.tmp[b]=0;for(b=0;4>b;b++)for(c=0;4>c;c++)for(d=0;4>d;d++)this.tmp[b+4*c]+=this.currentMatrix[b+4*d]*a[d+4*c];for(b=0;16>b;b++)this.currentMatrix[b]=this.tmp[b]},a.exports=d},function(a,b,c){a.exports=c(5)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){K=document.getElementById(a),K.addEventListener&&(window.addEventListener("click",r),window.addEventListener("mousedown",r),window.addEventListener("mousemove",r),window.addEventListener("mouseup",r),document.addEventListener("mouseout",r),window.addEventListener("touchstart",s),window.addEventListener("touchend",s),window.addEventListener("touchmove",s))}function f(a){var d,e,f,h,j,b=K.width,c=K.height;return L=new z.L2DTargetPoint,d=c/b,e=D.default.VIEW_LOGICAL_LEFT,f=D.default.VIEW_LOGICAL_RIGHT,h=-d,j=d,window.Live2D.captureFrame=!1,M=new z.L2DViewMatrix,M.setScreenRect(e,f,h,j),M.setMaxScreenRect(D.default.VIEW_LOGICAL_MAX_LEFT,D.default.VIEW_LOGICAL_MAX_RIGHT,D.default.VIEW_LOGICAL_MAX_BOTTOM,D.default.VIEW_LOGICAL_MAX_TOP),M.setMaxScale(D.default.VIEW_MAX_SCALE),M.setMinScale(D.default.VIEW_MIN_SCALE),N=new z.L2DMatrix44,N.multScale(1,b/c),O=new z.L2DMatrix44,O.multTranslate(-b/2,-c/2),O.multScale(2/b,-2/b),J=x(),G.setContext(J),J?(window.Live2D.setGL(J),J.clearColor(0,0,0,0),i(a),g(),void 0):(console.error("Failed to create WebGL context."),void(window.WebGLRenderingContext&&console.error("Your browser don't support WebGL, check https://get.webgl.org/ for futher information.")))}function g(){I||(I=!0,function a(){var b,c;h(),b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.Live2D.captureFrame&&(window.Live2D.captureFrame=!1,c=document.createElement("a"),document.body.appendChild(c),c.setAttribute("type","hidden"),c.href=K.toDataURL(),c.download=window.Live2D.captureName||"live2d.png",c.click()),b(a,K)}())}function h(){var a,b;for(F.default.reset(),F.default.loadIdentity(),L.update(),H.setDrag(L.getX(),L.getY()),J.clear(J.COLOR_BUFFER_BIT),F.default.multMatrix(N.getArray()),F.default.multMatrix(M.getArray()),F.default.push(),a=0;a<H.numModels();a++){if(b=H.getModel(a),null==b)return;b.initialized&&!b.updating&&(b.update(),b.draw(J))}F.default.pop()}function i(a){H.reloadFlg=!0,H.count++,H.changeModel(J,a)}function j(a,b){return a.x*b.x+a.y*b.y}function k(a,b){var c=Math.sqrt(a*a+b*b);return{x:a/c,y:b/c}}function l(a,b,c){function d(a,b){return 180*Math.acos(j({x:0,y:1},k(a,b)))/Math.PI}var e,f,g,h,i,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return b.x<c.left+c.width&&b.y<c.top+c.height&&b.x>c.left&&b.y>c.top?b:(e=a.x-b.x,f=a.y-b.y,g=d(e,f),b.x<a.x&&(g=360-g),h=360-d(c.left-a.x,-1*(c.top-a.y)),i=360-d(c.left-a.x,-1*(c.top+c.height-a.y)),l=d(c.left+c.width-a.x,-1*(c.top-a.y)),m=d(c.left+c.width-a.x,-1*(c.top+c.height-a.y)),n=f/e,o={},l>g?(p=c.top-a.y,q=p/n,o={y:a.y+p,x:a.x+q}):m>g?(r=c.left+c.width-a.x,s=r*n,o={y:a.y+s,x:a.x+r}):i>g?(t=c.top+c.height-a.y,u=t/n,o={y:a.y+t,x:a.x+u}):h>g?(v=a.x-c.left,w=v*n,o={y:a.y-w,x:a.x-v}):(x=c.top-a.y,y=x/n,o={y:a.y+x,x:a.x+y}),o)}function m(a){P=!0;var b=K.getBoundingClientRect(),c=v(a.clientX-b.left),d=w(a.clientY-b.top),e=l({x:b.left+b.width/2,y:b.top+b.height*S},{x:a.clientX,y:a.clientY},b),f=t(e.x-b.left),g=u(e.y-b.top);D.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+a.clientX+" y:"+a.clientY+" ) view( x:"+f+" y:"+g+")"),Q=c,R=d,L.setPoint(f,g)}function n(a){P=!0;var b=K.getBoundingClientRect(),c=v(a.clientX-b.left),d=w(a.clientY-b.top),e=l({x:b.left+b.width/2,y:b.top+b.height*S},{x:a.clientX,y:a.clientY},b),f=t(e.x-b.left),g=u(e.y-b.top);D.default.DEBUG_MOUSE_LOG&&console.log("onMouseDown device( x:"+a.clientX+" y:"+a.clientY+" ) view( x:"+f+" y:"+g+")"),Q=c,R=d,H.tapEvent(f,g)}function o(a){var b=K.getBoundingClientRect(),c=v(a.clientX-b.left),d=w(a.clientY-b.top),e=l({x:b.left+b.width/2,y:b.top+b.height*S},{x:a.clientX,y:a.clientY},b),f=t(e.x-b.left),g=u(e.y-b.top);D.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+a.clientX+" y:"+a.clientY+" ) view( x:"+f+" y:"+g+")"),P&&(Q=c,R=d,L.setPoint(f,g))}function p(){P&&(P=!1),L.setPoint(0,0)}function q(){D.default.DEBUG_LOG&&console.log("Set Session Storage."),sessionStorage.setItem("Sleepy","1")}function r(a){var b,c;if("mousewheel"==a.type);else if("mousedown"==a.type)n(a);else if("mousemove"==a.type)b=sessionStorage.getItem("Sleepy"),"1"===b&&sessionStorage.setItem("Sleepy","0"),m(a);else if("mouseup"==a.type){if("button"in a&&0!=a.button)return}else"mouseout"==a.type&&(D.default.DEBUG_LOG&&console.log("Mouse out Window."),p(),c=sessionStorage.getItem("SleepyTimer"),window.clearTimeout(c),c=window.setTimeout(q,5e4),sessionStorage.setItem("SleepyTimer",c))}function s(a){var b=a.touches[0];"touchstart"==a.type?1==a.touches.length&&m(b):"touchmove"==a.type?o(b):"touchend"==a.type&&p()}function t(a){var b=O.transformX(a);return M.invertTransformX(b)}function u(a){var b=O.transformY(a);return M.invertTransformY(b)}function v(a){return O.transformX(a)}function w(a){return O.transformY(a)}function x(){var a,b,c;for(a=["webgl","experimental-webgl","webkit-3d","moz-webgl"],b=0;b<a.length;b++)try{if(c=K.getContext(a[b],{premultipliedAlpha:!0}))return c}catch(a){}return null}function y(a,b,c){S=void 0===c?.5:c,e(a),f(b)}c(6);var z=c(0),A=c(8),B=d(A),C=c(1),D=d(C),E=c(3),F=d(E),G=c(2),H=(window.navigator.platform.toLowerCase(),new B.default),I=!1,J=null,K=null,L=null,M=null,N=null,O=null,P=!1,Q=0,R=0,S=.5;window.loadlive2d=y},function(a,b,c){"use strict";!function(a){!function(){function b(){Bb||(this._$MT=null,this._$5S=null,this._$NP=0,b._$42++,this._$5S=new P(this))}function c(a){var b,c;if(!Bb)for(this.clipContextList=new Array,this.glcontext=a.gl,this.dp_webgl=a,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new w,ib.glContext.length>ib.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new H,this.tmpMatrix2=new H,this.tmpMatrixForMask=new H,this.tmpMatrixForDraw=new H,this.CHANNEL_COLORS=new Array,b=new B,b=new B,b.r=0,b.g=0,b.b=0,b.a=1,this.CHANNEL_COLORS.push(b),b=new B,b.r=1,b.g=0,b.b=0,b.a=0,this.CHANNEL_COLORS.push(b),b=new B,b.r=0,b.g=1,b.b=0,b.a=0,this.CHANNEL_COLORS.push(b),b=new B,b.r=0,b.g=0,b.b=1,b.a=0,this.CHANNEL_COLORS.push(b),c=0;c<this.CHANNEL_COLORS.length;c++)this.dp_webgl.setChannelFlagAsColor(c,this.CHANNEL_COLORS[c])}function d(a,b,c){this.clipIDList=new Array,this.clipIDList=c,this.clippingMaskDrawIndexList=new Array;for(var d=0;d<c.length;d++)this.clippingMaskDrawIndexList.push(b.getDrawDataIndex(c[d]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new w,this.allClippedDrawRect=new w,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=a}function e(a,b){this._$gP=a,this.drawDataIndex=b}function f(){Bb||(this.color=null)}function g(){Bb||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}function h(){}function i(){this._$r=null,this._$0S=null}function j(){Bb||(this.x=null,this.y=null,this.width=null,this.height=null)}function k(a){Bb||cb.prototype.constructor.call(this,a)}function l(){}function n(a){Bb||cb.prototype.constructor.call(this,a)}function o(){Bb||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,o._$42++)}function p(){Bb||(this.p1=new q,this.p2=new q,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}function q(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}function r(a,b,c){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=a,this.scale=b,this._$V0=c}function s(a,b,c,d){r.prototype.constructor.call(this,b,c,d),this._$tL=null,this._$tL=a}function t(a,b,c){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=a,this.scale=b,this._$V0=c}function u(a,b,c,d){t.prototype.constructor.call(this,b,c,d),this._$YP=null,this._$YP=a}function v(){Bb||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}function w(){Bb||(this.x=null,this.y=null,this.width=null,this.height=null)}function x(){}function y(){Bb||(this.x=null,this.y=null)}function z(){Bb||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}function A(){Bb||(this._$Eb=A._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=A.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}function B(){Bb||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=ib.L2D_COLOR_BLEND_MODE_MULT)}function C(){Bb||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}function D(){}function E(){Bb||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=E._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}function F(){}function G(){Bb||(this._$Ob=null)}function H(){this.m=new Float32Array(16),this.identity()}function I(a){Bb||cb.prototype.constructor.call(this,a)}function J(){Bb||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}function K(){Bb||(g.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=K._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}function L(){this._$P=new Float32Array(100),this.size=0}function M(){this._$4P=null,this._$I0=null,this._$RP=null}function N(){}function O(){}function P(a){Bb||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(P._$is),this._$_2=new Float32Array(P._$is),this._$vr=new Float32Array(P._$is),this._$Rr=new Float32Array(P._$is),this._$Or=new Float32Array(P._$is),this._$fs=new Float32Array(P._$is),this._$Js=new Array(P._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(N._$Qb),this._$ZP=new Float32Array(2*N._$1r),this._$Ri=a,this._$b0=P._$HP++,this.clipManager=null,this.dp_webgl=null)}function Q(){}function R(){Bb||(this._$12=null,this._$bb=null,this._$_L=null,this._$jo=null,this._$iL=null,this._$0L=null,this._$Br=null,this._$Dr=null,this._$Cb=null,this._$mr=null,this._$_L=Db.STATE_FIRST,this._$Br=4e3,this._$Dr=100,this._$Cb=50,this._$mr=150,this._$jo=!0,this._$iL="PARAM_EYE_L_OPEN",this._$0L="PARAM_EYE_R_OPEN")}function S(){Bb||(A.prototype.constructor.call(this),this._$sb=new Int32Array(S._$As),this._$U2=new Array,this.transform=null,this.gl=null,null==S._$NT&&(S._$NT=S._$9r(256),S._$vS=S._$9r(256),S._$no=S._$vb(256)))}function T(){Bb||(C.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}function U(a){hb.prototype.constructor.call(this,a),this._$8r=C._$ur,this._$Yr=null,this._$Wr=null}function V(){Bb||(z.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}function W(){Bb||(this._$NL=null,this._$3S=null,this._$aS=null,W._$42++)}function X(){Bb||(b.prototype.constructor.call(this),this._$zo=new S)}function Y(){Bb||(g.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=Y._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}function Z(a,b){return String.fromCharCode(a.getUint8(b))}function L(){this._$P=new Float32Array(100),this.size=0}function M(){this._$4P=null,this._$I0=null,this._$RP=null}function $(){Bb||(C.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}function _(a){hb.prototype.constructor.call(this,a),this._$8r=C._$ur,this._$Cr=null,this._$hr=null}function ab(){Bb||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,ab._$42++)}function bb(a){this._$VS=null,this._$e0=null,this._$e0=a}function cb(a){Bb||(this.id=a)}function db(){}function eb(){Bb||(this._$4S=null)}function fb(a,b){this.canvas=a,this.context=b,this.viewport=new Array(0,0,a.width,a.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}function gb(){Bb||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}function hb(a){Bb||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=a,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}function ib(){}function jb(){}function kb(a){Bb||(this._$ib=a)}function lb(){Bb||(V.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=lb._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=lb._$42++)}function mb(a){zb.prototype.constructor.call(this,a),this._$8r=V._$ur,this._$Cr=null,this._$hr=null}function nb(){Bb||(this.x=null,this.y=null)}function ob(a){Bb||(b.prototype.constructor.call(this),this.drawParamWebGL=new tb(a),this.drawParamWebGL.setGL(ib.getGL(a)))}function pb(){Bb||(this.motions=null,this._$eb=!1,this.motions=new Array)}function qb(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=qb._$Gs++}function rb(){this.m=new Array(1,0,0,0,1,0,0,0,1)}function sb(a){Bb||cb.prototype.constructor.call(this,a)
}function tb(a){Bb||(A.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=a,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}function ub(a,b,c){return null==b&&(b=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,b),a.bufferData(a.ARRAY_BUFFER,c,a.DYNAMIC_DRAW),b}function vb(a,b,c){return null==b&&(b=a.createBuffer()),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b),a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.DYNAMIC_DRAW),b}function wb(a){Bb||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=a,this._$F=0)}function xb(){}function yb(){}function zb(a){Bb||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=a)}function Ab(){}var Cb,Db,Eb,Bb=!0;b._$0s=1,b._$4s=2,b._$42=0,b._$62=function(a,c){var d,e,f,g,i,j,k,l,m;try{if(c instanceof ArrayBuffer&&(c=new DataView(c)),!(c instanceof DataView))throw new kb("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");if(e=new wb(c),f=e._$ST(),g=e._$ST(),i=e._$ST(),109!=f||111!=g||99!=i)throw new kb("_$gi _$C _$li , _$Q0 _$P0.");if(d=e._$ST(),e._$gr(d),d>O._$T7)throw a._$NP|=b._$4s,new kb("_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+O._$T7+" < _$f0 : "+d+" )@_$SS#loadModel()\n");if(j=e._$nP(),d>=O._$s7&&(k=e._$9T(),l=e._$9T(),-30584!=k||-30584!=l))throw a._$NP|=b._$0s,new kb("_$gi _$C _$li , _$0 _$6 _$Ui.");a._$KS(j),m=a.getModelContext(),m.setDrawParam(a.getDrawParam()),m.init()}catch(a){h._$Rb(a)}},b.prototype._$KS=function(a){this._$MT=a},b.prototype.getModelImpl=function(){return null==this._$MT&&(this._$MT=new o,this._$MT._$zP()),this._$MT},b.prototype.getCanvasWidth=function(){return null==this._$MT?0:this._$MT.getCanvasWidth()},b.prototype.getCanvasHeight=function(){return null==this._$MT?0:this._$MT.getCanvasHeight()},b.prototype.getParamFloat=function(a){return"number"!=typeof a&&(a=this._$5S.getParamIndex(n.getID(a))),this._$5S.getParamFloat(a)},b.prototype.setParamFloat=function(a,b,c){"number"!=typeof a&&(a=this._$5S.getParamIndex(n.getID(a))),arguments.length<3&&(c=1),this._$5S.setParamFloat(a,this._$5S.getParamFloat(a)*(1-c)+b*c)},b.prototype.addToParamFloat=function(a,b,c){"number"!=typeof a&&(a=this._$5S.getParamIndex(n.getID(a))),arguments.length<3&&(c=1),this._$5S.setParamFloat(a,this._$5S.getParamFloat(a)+b*c)},b.prototype.multParamFloat=function(a,b,c){"number"!=typeof a&&(a=this._$5S.getParamIndex(n.getID(a))),arguments.length<3&&(c=1),this._$5S.setParamFloat(a,this._$5S.getParamFloat(a)*(1+(b-1)*c))},b.prototype.getParamIndex=function(a){return this._$5S.getParamIndex(n.getID(a))},b.prototype.loadParam=function(){this._$5S.loadParam()},b.prototype.saveParam=function(){this._$5S.saveParam()},b.prototype.init=function(){this._$5S.init()},b.prototype.update=function(){this._$5S.update()},b.prototype._$Rs=function(){return h._$li("_$60 _$PT _$Rs()"),-1},b.prototype._$Ds=function(){h._$li("_$60 _$PT _$SS#_$Ds() \n")},b.prototype._$K2=function(){},b.prototype.draw=function(){},b.prototype.getModelContext=function(){return this._$5S},b.prototype._$s2=function(){return this._$NP},b.prototype._$P7=function(a,b,c,d){var h,i,j,k,l,m,n,o,p,q,e=-1,f=0,g=this;if(0!=c)if(1==a.length)h=a[0],i=0!=g.getParamFloat(h),j=b[0],k=g.getPartsOpacity(j),l=c/d,i?(k+=l)>1&&(k=1):(k-=l)<0&&(k=0),g.setPartsOpacity(j,k);else{for(m=0;m<a.length;m++)if(h=a[m],n=0!=g.getParamFloat(h)){if(e>=0)break;e=m,j=b[m],f=g.getPartsOpacity(j),f+=c/d,f>1&&(f=1)}for(0>e&&(console.log("No _$wi _$q0/ _$U default[%s]",a[0]),e=0,f=1,g.loadParam(),g.setParamFloat(a[e],f),g.saveParam()),m=0;m<a.length;m++)j=b[m],e==m?g.setPartsOpacity(j,f):(p=g.getPartsOpacity(j),o=.5>f?-.5*f/.5+1:.5*(1-f)/.5,q=(1-o)*(1-f),q>.15&&(o=1-.15/(1-f)),p>o&&(p=o),g.setPartsOpacity(j,p))}else for(m=0;m<a.length;m++)h=a[m],j=b[m],n=0!=g.getParamFloat(h),g.setPartsOpacity(j,n?1:0)},b.prototype.setPartsOpacity=function(a,b){"number"!=typeof a&&(a=this._$5S.getPartsDataIndex(k.getID(a))),this._$5S.setPartsOpacity(a,b)},b.prototype.getPartsDataIndex=function(a){return a instanceof k||(a=k.getID(a)),this._$5S.getPartsDataIndex(a)},b.prototype.getPartsOpacity=function(a){return"number"!=typeof a&&(a=this._$5S.getPartsDataIndex(k.getID(a))),0>a?0:this._$5S.getPartsOpacity(a)},b.prototype.getDrawParam=function(){},b.prototype.getDrawDataIndex=function(a){return this._$5S.getDrawDataIndex(I.getID(a))},b.prototype.getDrawData=function(a){return this._$5S.getDrawData(a)},b.prototype.getTransformedPoints=function(a){var b=this._$5S._$C2(a);return b instanceof mb?b.getTransformedPoints():null},b.prototype.getIndexArray=function(a){if(0>a||a>=this._$5S._$aS.length)return null;var b=this._$5S._$aS[a];return null!=b&&b.getType()==V._$wb&&b instanceof lb?b.getIndexArray():null},c.CHANNEL_COUNT=4,c.RENDER_TEXTURE_USE_MIPMAP=!1,c.NOT_USED_FRAME=-100,c.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var a=this.CHANNEL_COLORS.length-1;a>=0;--a)this.CHANNEL_COLORS.splice(a,1);this.CHANNEL_COLORS=[]}this.releaseShader()},c.prototype.releaseShader=function(){for(var a=ib.frameBuffers.length,b=0;a>b;b++)this.gl.deleteFramebuffer(ib.frameBuffers[b].framebuffer);ib.frameBuffers=[],ib.glContext=[]},c.prototype.init=function(a,b,c){var e,f,g,h,i;for(e=0;e<b.length;e++)f=b[e].getClipIDList(),null!=f&&(g=this.findSameClip(f),null==g&&(g=new d(this,a,f),this.clipContextList.push(g)),h=b[e].getDrawDataID(),i=a.getDrawDataIndex(h),g.addClippedDrawData(h,i),c[e].clipBufPre_clipContext=g)},c.prototype.getMaskRenderTexture=function(){var a=null;return a=this.dp_webgl.createFramebuffer(),ib.frameBuffers[this.dp_webgl.glno]=a,this.dp_webgl.glno},c.prototype.setupClip=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(c=0,d=0;d<this.clipContextList.length;d++)e=this.clipContextList[d],this.calcClippedDrawTotalBounds(a,e),e.isUsing&&c++;if(c>0){for(f=b.gl.getParameter(b.gl.FRAMEBUFFER_BINDING),g=new Array(4),g[0]=0,g[1]=0,g[2]=b.gl.canvas.width,g[3]=b.gl.canvas.height,b.gl.viewport(0,0,ib.clippingMaskBufferSize,ib.clippingMaskBufferSize),this.setupLayoutBounds(c),b.gl.bindFramebuffer(b.gl.FRAMEBUFFER,ib.frameBuffers[this.curFrameNo].framebuffer),b.gl.clearColor(0,0,0,0),b.gl.clear(b.gl.COLOR_BUFFER_BIT),d=0;d<this.clipContextList.length;d++){for(e=this.clipContextList[d],h=e.allClippedDrawRect,e.layoutChannelNo,i=e.layoutBounds,this.tmpBoundsOnModel._$jL(h),this.tmpBoundsOnModel.expand(.05*h.width,.05*h.height),j=i.width/this.tmpBoundsOnModel.width,k=i.height/this.tmpBoundsOnModel.height,this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(i.x,i.y,0),this.tmpMatrix2.scale(j,k,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(i.x,i.y,0),this.tmpMatrix2.scale(j,k,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m),l=this.tmpMatrixForMask.getArray(),m=0;16>m;m++)e.matrixForMask[m]=l[m];for(n=this.tmpMatrixForDraw.getArray(),m=0;16>m;m++)e.matrixForDraw[m]=n[m];for(o=e.clippingMaskDrawIndexList.length,p=0;o>p;p++)q=e.clippingMaskDrawIndexList[p],r=a.getDrawData(q),s=a._$C2(q),b.setClipBufPre_clipContextForMask(e),r.draw(b,a,s)}b.gl.bindFramebuffer(b.gl.FRAMEBUFFER,f),b.setClipBufPre_clipContextForMask(null),b.gl.viewport(g[0],g[1],g[2],g[3])}},c.prototype.getColorBuffer=function(){return this.colorBuffer},c.prototype.findSameClip=function(a){var b,c,d,e,f,g,h;for(b=0;b<this.clipContextList.length;b++)if(c=this.clipContextList[b],d=c.clipIDList.length,d==a.length){for(e=0,f=0;d>f;f++)for(g=c.clipIDList[f],h=0;d>h;h++)if(a[h]==g){e++;break}if(e==d)return c}return null},c.prototype.calcClippedDrawTotalBounds=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;for(c=a._$Ri.getModelImpl().getCanvasWidth(),d=a._$Ri.getModelImpl().getCanvasHeight(),e=c>d?c:d,f=e,g=e,h=0,i=0,j=b.clippedDrawContextList.length,k=0;j>k;k++)if(l=b.clippedDrawContextList[k],m=l.drawDataIndex,n=a._$C2(m),n._$yo()){for(o=n.getTransformedPoints(),p=o.length,q=[],r=[],s=0,t=N._$i2;p>t;t+=N._$No)q[s]=o[t],r[s]=o[t+1],s++;u=Math.min.apply(null,q),v=Math.min.apply(null,r),w=Math.max.apply(null,q),x=Math.max.apply(null,r),f>u&&(f=u),g>v&&(g=v),w>h&&(h=w),x>i&&(i=x)}f==e?(b.allClippedDrawRect.x=0,b.allClippedDrawRect.y=0,b.allClippedDrawRect.width=0,b.allClippedDrawRect.height=0,b.isUsing=!1):(y=h-f,z=i-g,b.allClippedDrawRect.x=f,b.allClippedDrawRect.y=g,b.allClippedDrawRect.width=y,b.allClippedDrawRect.height=z,b.isUsing=!0)},c.prototype.setupLayoutBounds=function(a){var e,f,g,i,j,k,l,b=a/c.CHANNEL_COUNT,d=a%c.CHANNEL_COUNT;for(b=~~b,d=~~d,e=0,f=0;f<c.CHANNEL_COUNT;f++)if(g=b+(d>f?1:0),0==g);else if(1==g)i=this.clipContextList[e++],i.layoutChannelNo=f,i.layoutBounds.x=0,i.layoutBounds.y=0,i.layoutBounds.width=1,i.layoutBounds.height=1;else if(2==g)for(j=0;g>j;j++)k=j%2,l=0,k=~~k,i=this.clipContextList[e++],i.layoutChannelNo=f,i.layoutBounds.x=.5*k,i.layoutBounds.y=0,i.layoutBounds.width=.5,i.layoutBounds.height=1;else if(4>=g)for(j=0;g>j;j++)k=j%2,l=j/2,k=~~k,l=~~l,i=this.clipContextList[e++],i.layoutChannelNo=f,i.layoutBounds.x=.5*k,i.layoutBounds.y=.5*l,i.layoutBounds.width=.5,i.layoutBounds.height=.5;else if(9>=g)for(j=0;g>j;j++)k=j%3,l=j/3,k=~~k,l=~~l,i=this.clipContextList[e++],i.layoutChannelNo=f,i.layoutBounds.x=k/3,i.layoutBounds.y=l/3,i.layoutBounds.width=1/3,i.layoutBounds.height=1/3;else h._$li("_$6 _$0P mask count : %d",g)},d.prototype.addClippedDrawData=function(a,b){var c=new e(a,b);this.clippedDrawContextList.push(c)},g._$JT=function(a,b,c){var n,o,d=a/b,e=c/b,f=e,g=1-(1-e)*(1-e),h=1-(1-f)*(1-f),i=1/3*(1-e)*g+(f*(2/3)+1/3*(1-f))*(1-g),j=(f+2/3*(1-f))*h+(e*(1/3)+2/3*(1-e))*(1-h),k=1-3*j+3*i-0,l=3*j-6*i+0,m=3*i-0;return 0>=d?0:d>=1?1:(n=d,o=n*n,k*n*o+l*o+m*n+0)},g.prototype._$a0=function(){},g.prototype.setFadeIn=function(a){this._$dP=a},g.prototype.setFadeOut=function(a){this._$eo=a},g.prototype._$pT=function(a){this._$V0=a},g.prototype.getFadeOut=function(){return this._$eo},g.prototype._$4T=function(){return this._$eo},g.prototype._$mT=function(){return this._$V0},g.prototype.getDurationMSec=function(){return-1},g.prototype.getLoopDurationMSec=function(){return-1},g.prototype.updateParam=function(a,b){var c,d,e;b._$AT&&!b._$9L&&(c=D.getUserTimeMSec(),b._$z2<0&&(b._$z2=c,b._$bs=c,d=this.getDurationMSec(),b._$Do<0&&(b._$Do=0>=d?-1:b._$z2+d)),e=this._$V0,e=e*(0==this._$dP?1:jb._$r2((c-b._$bs)/this._$dP))*(0==this._$eo||b._$Do<0?1:jb._$r2((b._$Do-c)/this._$eo)),e>=0&&1>=e||console.log("### assert!! ### "),this.updateParamExe(a,c,e,b),b._$Do>0&&b._$Do<c&&(b._$9L=!0))},g.prototype.updateParamExe=function(){},h._$8s=0,h._$fT=new Object,h.start=function(a){var b=h._$fT[a];null==b&&(b=new i,b._$r=a,h._$fT[a]=b),b._$0S=D.getSystemTimeMSec()},h.dump=function(a){var c,d,b=h._$fT[a];return null!=b?(c=D.getSystemTimeMSec(),d=c-b._$0S,console.log(a+" : "+d+"ms"),d):-1},h.end=function(a){var b=h._$fT[a];return null!=b?D.getSystemTimeMSec()-b._$0S:-1},h._$li=function(a,b){console.log("_$li : "+a+"\n",b)},h._$Ji=function(a,b){console.log(a,b)},h._$dL=function(a,b){console.log(a,b),console.log("\n")},h._$KL=function(a,b){for(var c=0;b>c;c++)0==c%16&&c>0?console.log("\n"):0==c%8&&c>0&&console.log("  "),console.log("%02X ",255&a[c]);console.log("\n")},h._$nr=function(a,b,c){console.log("%s\n",a);for(var d=b.length,e=0;d>e;++e)console.log("%5d",b[e]),console.log("%s\n",c),console.log(",");console.log("\n")},h._$Rb=function(a){console.log("dump exception : "+a),console.log("stack :: "+a.stack)},j.prototype._$8P=function(){return.5*(this.x+this.x+this.width)},j.prototype._$6P=function(){return.5*(this.y+this.y+this.height)},j.prototype._$EL=function(){return this.x+this.width},j.prototype._$5T=function(){return this.y+this.height},j.prototype._$jL=function(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d},j.prototype._$jL=function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},k.prototype=new cb,k._$tP=new Object,k._$27=function(){k._$tP.clear()},k.getID=function(a){var b=k._$tP[a];return null==b&&(b=new k(a),k._$tP[a]=b),b},k.prototype._$3s=function(){return new k},n.prototype=new cb,n._$tP=new Object,n._$27=function(){n._$tP.clear()},n.getID=function(a){var b=n._$tP[a];return null==b&&(b=new n(a),n._$tP[a]=b),b},n.prototype._$3s=function(){return new n},o._$42=0,o.prototype._$zP=function(){null==this._$vo&&(this._$vo=new eb),null==this._$F2&&(this._$F2=new Array)},o.prototype.getCanvasWidth=function(){return this._$ao},o.prototype.getCanvasHeight=function(){return this._$1S},o.prototype._$F0=function(a){this._$vo=a._$nP(),this._$F2=a._$nP(),this._$ao=a._$6L(),this._$1S=a._$6L()},o.prototype._$6S=function(a){this._$F2.push(a)},o.prototype._$Xr=function(){return this._$F2},o.prototype._$E2=function(){return this._$vo},p.prototype.setup=function(a,b,c){this._$ks=this._$Yb(),this.p2._$xT(),3==arguments.length&&(this._$Fo=a,this._$L2=b,this.p1._$p=c,this.p2._$p=c,this.p2.y=a,this.setup())},p.prototype.getPhysicsPoint1=function(){return this.p1},p.prototype.getPhysicsPoint2=function(){return this.p2},p.prototype._$qr=function(){return this._$Db},p.prototype._$pr=function(a){this._$Db=a},p.prototype._$5r=function(){return this._$M2},p.prototype._$Cs=function(){return this._$9b},p.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},p.prototype.addSrcParam=function(a,b,c,d){var e=new s(a,b,c,d);this._$lL.push(e)},p.prototype.addTargetParam=function(a,b,c,d){var e=new u(a,b,c,d);this._$qP.push(e)},p.prototype.update=function(a,b){var c,d;if(0==this._$iP)return this._$iP=this._$iT=b,void(this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));if(c=(b-this._$iT)/1e3,0!=c){for(d=this._$lL.length-1;d>=0;--d)this._$lL[d]._$oP(a,this);this._$oo(a,c),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/c,this._$ks=this._$M2}for(d=this._$qP.length-1;d>=0;--d)this._$qP[d]._$YS(a,this);this._$iT=b},p.prototype._$oo=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;.033>b&&(b=.033),c=1/b,this.p1.vx=(this.p1.x-this.p1._$s0)*c,this.p1.vy=(this.p1.y-this.p1._$70)*c,this.p1.ax=(this.p1.vx-this.p1._$7L)*c,this.p1.ay=(this.p1.vy-this.p1._$HL)*c,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT(),f=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),g=Math.cos(f),h=Math.sin(f),i=9.8*this.p2._$p,j=this._$Db*yb._$bS,k=i*Math.cos(f-j),d=k*h,e=k*g,l=-this.p1.fx*h*h,m=-this.p1.fy*h*g,n=-this.p2.vx*this._$L2,o=-this.p2.vy*this._$L2,this.p2.fx=d+l+n,this.p2.fy=e+m+o,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*b,this.p2.vy+=this.p2.ay*b,this.p2.x+=this.p2.vx*b,this.p2.y+=this.p2.vy*b,p=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)),this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/p,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/p,this.p2.vx=(this.p2.x-this.p2._$s0)*c,this.p2.vy=(this.p2.y-this.p2._$70)*c,this.p2._$xT()},q.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy},r.prototype._$oP=function(){},s.prototype=new r,s.prototype._$oP=function(a,b){var e,c=this.scale*a.getParamFloat(this._$wL),d=b.getPhysicsPoint1();switch(this._$tL){default:case p.Src.SRC_TO_X:d.x=d.x+(c-d.x)*this._$V0;break;case p.Src.SRC_TO_Y:d.y=d.y+(c-d.y)*this._$V0;break;case p.Src.SRC_TO_G_ANGLE:e=b._$qr(),e+=(c-e)*this._$V0,b._$pr(e)}},t.prototype._$YS=function(){},u.prototype=new t,u.prototype._$YS=function(a,b){switch(this._$YP){default:case p.Target.TARGET_FROM_ANGLE:a.setParamFloat(this._$wL,this.scale*b._$5r(),this._$V0);break;case p.Target.TARGET_FROM_ANGLE_V:a.setParamFloat(this._$wL,this.scale*b._$Cs(),this._$V0)}},p.Src=function(){},p.Src.SRC_TO_X="SRC_TO_X",p.Src.SRC_TO_Y="SRC_TO_Y",p.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",p.Target=function(){},p.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",p.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V",v.prototype.init=function(a){this._$fL=a._$fL,this._$gL=a._$gL,this._$B0=a._$B0,this._$z0=a._$z0,this._$qT=a._$qT,this.reflectX=a.reflectX,this.reflectY=a.reflectY},v.prototype._$F0=function(a){this._$fL=a._$_T(),this._$gL=a._$_T(),this._$B0=a._$_T(),this._$z0=a._$_T(),this._$qT=a._$_T(),a.getFormatVersion()>=O.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=a._$po(),this.reflectY=a._$po())},v.prototype._$e=function(){},Cb=function(){},Cb._$ni=function(a,b,c,d,e,f,g,h,i){var k,l,j=g*f-h*e;return 0==j?null:(l=((a-c)*f-(b-d)*e)/j,k=0!=e?(a-c-l*g)/e:(b-d-l*h)/f,isNaN(k)&&(k=(a-c-l*g)/e,isNaN(k)&&(k=(b-d-l*h)/f),isNaN(k)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+e),console.log("v1x != 0 ? "+(0!=e)))),null==i?new Array(k,l):(i[0]=k,i[1]=l,i))},w.prototype._$8P=function(){return this.x+.5*this.width},w.prototype._$6P=function(){return this.y+.5*this.height},w.prototype._$EL=function(){return this.x+this.width},w.prototype._$5T=function(){return this.y+this.height},w.prototype._$jL=function(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d},w.prototype._$jL=function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},w.prototype.contains=function(){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},w.prototype.expand=function(a,b){this.x-=a,this.y-=b,this.width+=2*a,this.height+=2*b},x._$Z2=function(a,b,c,d){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,e=b._$Q2(a,c),f=a._$vs(),g=a._$Tr();if(b._$zr(f,g,e),0>=e)return d[f[0]];if(1==e)return h=d[f[0]],i=d[f[1]],j=g[0],0|h+(i-h)*j;if(2==e)return h=d[f[0]],i=d[f[1]],k=d[f[2]],l=d[f[3]],j=g[0],m=g[1],n=0|h+(i-h)*j,o=0|k+(l-k)*j,0|n+(o-n)*m;if(3==e)return p=d[f[0]],q=d[f[1]],r=d[f[2]],s=d[f[3]],t=d[f[4]],u=d[f[5]],v=d[f[6]],w=d[f[7]],j=g[0],m=g[1],x=g[2],h=0|p+(q-p)*j,i=0|r+(s-r)*j,k=0|t+(u-t)*j,l=0|v+(w-v)*j,n=0|h+(i-h)*m,o=0|k+(l-k)*m,0|n+(o-n)*x;if(4==e)return y=d[f[0]],z=d[f[1]],A=d[f[2]],B=d[f[3]],C=d[f[4]],D=d[f[5]],E=d[f[6]],F=d[f[7]],G=d[f[8]],H=d[f[9]],I=d[f[10]],J=d[f[11]],K=d[f[12]],L=d[f[13]],M=d[f[14]],N=d[f[15]],j=g[0],m=g[1],x=g[2],O=g[3],p=0|y+(z-y)*j,q=0|A+(B-A)*j,r=0|C+(D-C)*j,s=0|E+(F-E)*j,t=0|G+(H-G)*j,u=0|I+(J-I)*j,v=0|K+(L-K)*j,w=0|M+(N-M)*j,h=0|p+(q-p)*m,i=0|r+(s-r)*m,k=0|t+(u-t)*m,l=0|v+(w-v)*m,n=0|h+(i-h)*x,o=0|k+(l-k)*x,0|n+(o-n)*O;for(P=1<<e,Q=new Float32Array(P),R=0;P>R;R++){for(S=R,T=1,U=0;e>U;U++)T*=0==S%2?1-g[U]:g[U],S/=2;Q[R]=T}for(V=new Float32Array(P),W=0;P>W;W++)V[W]=d[f[W]];for(X=0,W=0;P>W;W++)X+=Q[W]*V[W];return 0|X+.5},x._$br=function(a,b,c,d){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,e=b._$Q2(a,c),f=a._$vs(),g=a._$Tr();if(b._$zr(f,g,e),0>=e)return d[f[0]];if(1==e)return h=d[f[0]],i=d[f[1]],j=g[0],h+(i-h)*j;if(2==e)return h=d[f[0]],i=d[f[1]],k=d[f[2]],l=d[f[3]],j=g[0],m=g[1],(1-m)*(h+(i-h)*j)+m*(k+(l-k)*j);if(3==e)return n=d[f[0]],o=d[f[1]],p=d[f[2]],q=d[f[3]],r=d[f[4]],s=d[f[5]],t=d[f[6]],u=d[f[7]],j=g[0],m=g[1],v=g[2],(1-v)*((1-m)*(n+(o-n)*j)+m*(p+(q-p)*j))+v*((1-m)*(r+(s-r)*j)+m*(t+(u-t)*j));if(4==e)return w=d[f[0]],x=d[f[1]],y=d[f[2]],z=d[f[3]],A=d[f[4]],B=d[f[5]],C=d[f[6]],D=d[f[7]],E=d[f[8]],F=d[f[9]],G=d[f[10]],H=d[f[11]],I=d[f[12]],J=d[f[13]],K=d[f[14]],L=d[f[15]],j=g[0],m=g[1],v=g[2],M=g[3],(1-M)*((1-v)*((1-m)*(w+(x-w)*j)+m*(y+(z-y)*j))+v*((1-m)*(A+(B-A)*j)+m*(C+(D-C)*j)))+M*((1-v)*((1-m)*(E+(F-E)*j)+m*(G+(H-G)*j))+v*((1-m)*(I+(J-I)*j)+m*(K+(L-K)*j)));for(N=1<<e,O=new Float32Array(N),P=0;N>P;P++){for(Q=P,R=1,S=0;e>S;S++)R*=0==Q%2?1-g[S]:g[S],Q/=2;O[P]=R}for(T=new Float32Array(N),U=0;N>U;U++)T[U]=d[f[U]];for(V=0,U=0;N>U;U++)V+=O[U]*T[U];return V},x._$Vr=function(a,b,c,d,e,f,g,h){var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,i=b._$Q2(a,c),j=a._$vs(),k=a._$Tr();if(b._$zr(j,k,i),l=2*d,m=g,0>=i)if(n=j[0],o=e[n],2==h&&0==g)D._$jT(o,0,f,0,l);else for(p=0;l>p;)f[m]=o[p++],f[m+1]=o[p++],m+=h;else if(1==i)for(o=e[j[0]],q=e[j[1]],r=k[0],s=1-r,p=0;l>p;)f[m]=o[p]*s+q[p]*r,++p,f[m+1]=o[p]*s+q[p]*r,++p,m+=h;else if(2==i)for(o=e[j[0]],q=e[j[1]],t=e[j[2]],u=e[j[3]],r=k[0],v=k[1],s=1-r,w=1-v,x=w*s,y=w*r,z=v*s,A=v*r,p=0;l>p;)f[m]=x*o[p]+y*q[p]+z*t[p]+A*u[p],++p,f[m+1]=x*o[p]+y*q[p]+z*t[p]+A*u[p],++p,m+=h;else if(3==i)for(B=e[j[0]],C=e[j[1]],E=e[j[2]],F=e[j[3]],G=e[j[4]],H=e[j[5]],I=e[j[6]],J=e[j[7]],r=k[0],v=k[1],K=k[2],s=1-r,w=1-v,L=1-K,M=L*w*s,N=L*w*r,O=L*v*s,P=L*v*r,Q=K*w*s,R=K*w*r,S=K*v*s,T=K*v*r,p=0;l>p;)f[m]=M*B[p]+N*C[p]+O*E[p]+P*F[p]+Q*G[p]+R*H[p]+S*I[p]+T*J[p],++p,f[m+1]=M*B[p]+N*C[p]+O*E[p]+P*F[p]+Q*G[p]+R*H[p]+S*I[p]+T*J[p],++p,m+=h;else if(4==i)for(U=e[j[0]],V=e[j[1]],W=e[j[2]],X=e[j[3]],Y=e[j[4]],Z=e[j[5]],$=e[j[6]],_=e[j[7]],ab=e[j[8]],bb=e[j[9]],cb=e[j[10]],db=e[j[11]],eb=e[j[12]],fb=e[j[13]],gb=e[j[14]],hb=e[j[15]],r=k[0],v=k[1],K=k[2],ib=k[3],s=1-r,w=1-v,L=1-K,jb=1-ib,kb=jb*L*w*s,lb=jb*L*w*r,mb=jb*L*v*s,nb=jb*L*v*r,ob=jb*K*w*s,pb=jb*K*w*r,qb=jb*K*v*s,rb=jb*K*v*r,sb=ib*L*w*s,tb=ib*L*w*r,ub=ib*L*v*s,vb=ib*L*v*r,wb=ib*K*w*s,xb=ib*K*w*r,yb=ib*K*v*s,zb=ib*K*v*r,p=0;l>p;)f[m]=kb*U[p]+lb*V[p]+mb*W[p]+nb*X[p]+ob*Y[p]+pb*Z[p]+qb*$[p]+rb*_[p]+sb*ab[p]+tb*bb[p]+ub*cb[p]+vb*db[p]+wb*eb[p]+xb*fb[p]+yb*gb[p]+zb*hb[p],++p,f[m+1]=kb*U[p]+lb*V[p]+mb*W[p]+nb*X[p]+ob*Y[p]+pb*Z[p]+qb*$[p]+rb*_[p]+sb*ab[p]+tb*bb[p]+ub*cb[p]+vb*db[p]+wb*eb[p]+xb*fb[p]+yb*gb[p]+zb*hb[p],++p,m+=h;else{for(Ab=1<<i,Bb=new Float32Array(Ab),Cb=0;Ab>Cb;Cb++){for(Db=Cb,Eb=1,Fb=0;i>Fb;Fb++)Eb*=0==Db%2?1-k[Fb]:k[Fb],Db/=2;Bb[Cb]=Eb}for(Gb=new Float32Array(Ab),Hb=0;Ab>Hb;Hb++)Gb[Hb]=e[j[Hb]];for(p=0;l>p;){for(Ib=0,Jb=0,Kb=p+1,Hb=0;Ab>Hb;Hb++)Ib+=Bb[Hb]*Gb[Hb][p],Jb+=Bb[Hb]*Gb[Hb][Kb];p+=2,f[m]=Ib,f[m+1]=Jb,m+=h}}},y.prototype._$HT=function(a,b){this.x=a,this.y=b},y.prototype._$HT=function(a){this.x=a.x,this.y=a.y},z._$ur=-2,z._$ES=500,z._$wb=2,z._$8S=3,z._$52=z._$ES,z._$R2=z._$ES,z._$or=function(){return z._$52},z._$Pr=function(){return z._$R2},z.prototype.convertClipIDForV2_11=function(a){var b=[];return null==a?null:0==a.length?null:/,/.test(a)?b=a.id.split(","):(b.push(a.id),b)},z.prototype._$F0=function(a){this._$gP=a._$nP(),this._$dr=a._$nP(),this._$GS=a._$nP(),this._$qb=a._$6L(),this._$Lb=a._$cS(),this._$mS=a._$Tb(),a.getFormatVersion()>=O._$T7?(this.clipID=a._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},z.prototype.getClipIDList=function(){return this.clipIDList},z.prototype.init=function(){},z.prototype._$Nr=function(a,b){if(b._$IS[0]=!1,b._$Us=x._$Z2(a,this._$GS,b._$IS,this._$Lb),ib._$Zs);else if(b._$IS[0])return;b._$7s=x._$br(a,this._$GS,b._$IS,this._$mS)},z.prototype._$2b=function(){},z.prototype.getDrawDataID=function(){return this._$gP},z.prototype._$j2=function(a){this._$gP=a},z.prototype.getOpacity=function(a,b){return b._$7s},z.prototype._$zS=function(a,b){return b._$Us},z.prototype._$MS=function(a){var b,c;for(b=a.length-1;b>=0;--b)c=a[b],c<z._$52?z._$52=c:c>z._$R2&&(z._$R2=c)},z.prototype.getTargetBaseDataID=function(){return this._$dr},z.prototype._$gs=function(a){this._$dr=a},z.prototype._$32=function(){return null!=this._$dr&&this._$dr!=sb._$2o()},z.prototype.preDraw=function(){},z.prototype.draw=function(){},z.prototype.getType=function(){},z.prototype._$B2=function(){},A._$ps=32,A.CLIPPING_PROCESS_NONE=0,A.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,A.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,A.CLIPPING_PROCESS_DRAW=3,A.CLIPPING_PROCESS_CLEAR_ALPHA=4,A.prototype.setChannelFlagAsColor=function(a,b){this.CHANNEL_COLORS[a]=b},A.prototype.getChannelFlagAsColor=function(a){return this.CHANNEL_COLORS[a]},A.prototype._$ZT=function(){},A.prototype._$Uo=function(){},A.prototype._$Rs=function(){return-1},A.prototype._$Ds=function(){},A.prototype.setBaseColor=function(a,b,c,d){0>a?a=0:a>1&&(a=1),0>b?b=0:b>1&&(b=1),0>c?c=0:c>1&&(c=1),0>d?d=0:d>1&&(d=1),this._$lT=a,this._$C0=b,this._$tT=c,this._$WL=d},A.prototype._$WP=function(a){this.culling=a},A.prototype.setMatrix=function(a){for(var b=0;16>b;b++)this.matrix4x4[b]=a[b]},A.prototype._$IT=function(){return this.matrix4x4},A.prototype.setPremultipliedAlpha=function(a){this.premultipliedAlpha=a},A.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},A.prototype.setAnisotropy=function(a){this.anisotropy=a},A.prototype.getAnisotropy=function(){return this.anisotropy},A.prototype.getClippingProcess=function(){return this.clippingProcess},A.prototype.setClippingProcess=function(a){this.clippingProcess=a},A.prototype.setClipBufPre_clipContextForMask=function(a){this.clipBufPre_clipContextMask=a},A.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},A.prototype.setClipBufPre_clipContextForDraw=function(a){this.clipBufPre_clipContextDraw=a},A.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw},C._$ur=-2,C._$c2=1,C._$_b=2,C.prototype._$F0=function(a){this._$kP=a._$nP(),this._$dr=a._$nP()},C.prototype.readV2_opacity=function(a){a.getFormatVersion()>=O.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=a._$Tb())},C.prototype.init=function(){},C.prototype._$Nr=function(){},C.prototype.interpolateOpacity=function(a,b,c,d){null==this._$mS?c.setInterpolatedOpacity(1):c.setInterpolatedOpacity(x._$br(a,b,d,this._$mS))},C.prototype._$2b=function(){},C.prototype._$nb=function(){},C.prototype.getType=function(){},C.prototype._$gs=function(a){this._$dr=a},C.prototype._$a2=function(a){this._$kP=a},C.prototype.getTargetBaseDataID=function(){return this._$dr},C.prototype.getBaseDataID=function(){return this._$kP},C.prototype._$32=function(){return null!=this._$dr&&this._$dr!=sb._$2o()},D._$W2=0,D._$CS=D._$W2,D._$Mo=function(){return!0},D._$XP=function(a){try{for(var b=getTimeMSec();getTimeMSec()-b<a;);}catch(a){a._$Rb()}},D.getUserTimeMSec=function(){return D._$CS==D._$W2?D.getSystemTimeMSec():D._$CS},D.setUserTimeMSec=function(a){D._$CS=a},D.updateUserTimeMSec=function(){return D._$CS=D.getSystemTimeMSec()},D.getTimeMSec=function(){return(new Date).getTime()},D.getSystemTimeMSec=function(){return(new Date).getTime()},D._$Q=function(){},D._$jT=function(a,b,c,d,e){for(var f=0;e>f;f++)c[d+f]=a[b+f]},E._$ds=-2,E.prototype._$F0=function(a){this._$wL=a._$nP(),this._$VP=a._$6L(),this._$GP=a._$nP()},E.prototype.getParamIndex=function(a){return this._$2r!=a&&(this._$8o=E._$ds),this._$8o},E.prototype._$Pb=function(a,b){this._$8o=a,this._$2r=b},E.prototype.getParamID=function(){return this._$wL},E.prototype._$yP=function(a){this._$wL=a},E.prototype._$N2=function(){return this._$VP},E.prototype._$d2=function(){return this._$GP},E.prototype._$t2=function(a,b){this._$VP=a,this._$GP=b},E.prototype._$Lr=function(){return this._$O2},E.prototype._$wr=function(a){this._$O2=a},E.prototype._$SL=function(){return this._$ri},E.prototype._$AL=function(a){this._$ri=a},F.startsWith=function(a,b,c){var e,d=b+c.length;if(d>=a.length)return!1;for(e=b;d>e;e++)if(F.getChar(a,e)!=c.charAt(e-b))return!1;return!0},F.getChar=function(a,b){return String.fromCharCode(a.getUint8(b))},F.createString=function(a,b,c){for(var d=new ArrayBuffer(2*c),e=new Uint16Array(d),f=0;c>f;f++)e[f]=a.getUint8(b+f);return String.fromCharCode.apply(null,e)},F._$LS=function(a,b,c,d){var e,f,g,h,i,j,k,l;for(a instanceof ArrayBuffer&&(a=new DataView(a)),e=c,f=!1,g=!1,h=0,i=F.getChar(a,e),"-"==i&&(f=!0,e++),j=!1;b>e;e++){switch(i=F.getChar(a,e)){case"0":h*=10;break;case"1":h=10*h+1;break;case"2":h=10*h+2;break;case"3":h=10*h+3;break;case"4":h=10*h+4;break;case"5":h=10*h+5;break;case"6":h=10*h+6;break;case"7":h=10*h+7;break;case"8":h=10*h+8;break;case"9":h=10*h+9;break;case".":g=!0,e++,j=!0;break;default:j=!0}if(j)break}if(g)for(k=.1,l=!1;b>e;e++){switch(i=F.getChar(a,e)){case"0":break;case"1":h+=1*k;break;case"2":h+=2*k;break;case"3":h+=3*k;break;case"4":h+=4*k;break;case"5":h+=5*k;break;case"6":h+=6*k;break;case"7":h+=7*k;break;case"8":h+=8*k;break;case"9":h+=9*k;break;default:l=!0}if(k*=.1,l)break}return f&&(h=-h),d[0]=e,h},G.prototype._$zP=function(){this._$Ob=new Array},G.prototype._$F0=function(a){this._$Ob=a._$nP()},G.prototype._$Ur=function(a){var b,c,d;if(a._$WS())return!0;for(b=a._$v2(),c=this._$Ob.length-1;c>=0;--c)if(d=this._$Ob[c].getParamIndex(b),d==E._$ds&&(d=a.getParamIndex(this._$Ob[c].getParamID())),a._$Xb(d))return!0;return!1},G.prototype._$Q2=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(e=this._$Ob.length,f=a._$v2(),g=0,h=0;e>h;h++){if(i=this._$Ob[h],c=i.getParamIndex(f),c==E._$ds&&(c=a.getParamIndex(i.getParamID()),i._$Pb(c,f)),0>c)throw new Exception("err 23242 : "+i.getParamID());if(j=0>c?0:a.getParamFloat(c),d=i._$N2(),m=i._$d2(),n=-1,o=0,1>d);else if(1==d)k=m[0],k-N._$J<j&&j<k+N._$J?(n=0,o=0):(n=0,b[0]=!0);else if(k=m[0],j<k-N._$J)n=0,b[0]=!0;else if(j<k+N._$J)n=0;else{for(p=!1,q=1;d>q;++q){if(l=m[q],j<l+N._$J){l-N._$J<j?n=q:(n=q-1,o=(j-k)/(l-k),g++),p=!0;break}k=l}p||(n=d-1,o=0,b[0]=!0)}i._$wr(n),i._$AL(o)}return g},G.prototype._$zr=function(a,b,c){var e,f,g,h,i,j,k,l,m,d=1<<c;for(d+1>N._$Qb&&console.log("err 23245\n"),e=this._$Ob.length,f=1,g=1,h=0,i=0;d>i;++i)a[i]=0;for(j=0;e>j;++j){if(k=this._$Ob[j],0==k._$SL()){if(l=k._$Lr()*f,0>l&&ib._$3T)throw new Exception("err 23246");for(i=0;d>i;++i)a[i]+=l}else{for(l=f*k._$Lr(),m=f*(k._$Lr()+1),i=0;d>i;++i)a[i]+=0==(0|i/g)%2?l:m;b[h++]=k._$SL(),g*=2}f*=k._$N2()}a[d]=65535,b[h]=-1},G.prototype._$h2=function(a,b,c){var d,e,f;for(d=new Float32Array(b),e=0;b>e;++e)d[e]=c[e];f=new E,f._$yP(a),f._$t2(b,d),this._$Ob.push(f)},G.prototype._$J2=function(a){var b,c,d,e,f,g,h;for(b=a,c=this._$Ob.length,d=0;c>d;++d)e=this._$Ob[d],f=e._$N2(),g=b%e._$N2(),h=e._$d2()[g],console.log("%s[%d]=%7.2f / ",e.getParamID(),g,h),b/=f;console.log("\n")},G.prototype.getParamCount=function(){return this._$Ob.length},G.prototype._$zs=function(){return this._$Ob},H.prototype.identity=function(){for(var a=0;16>a;a++)this.m[a]=0==a%5?1:0},H.prototype.getArray=function(){return this.m},H.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},H.prototype.setMatrix=function(a){if(null!=a&&16==a.length)for(var b=0;16>b;b++)this.m[b]=a[b]},H.prototype.mult=function(a,b,c){return null==b?null:(this==b?this.mult_safe(this.m,a.m,b.m,c):this.mult_fast(this.m,a.m,b.m,c),b)},H.prototype.mult_safe=function(a,b,c,d){var e,f;if(a==c)for(e=new Array(16),this.mult_fast(a,b,e,d),f=15;f>=0;--f)c[f]=e[f];else this.mult_fast(a,b,c,d)},H.prototype.mult_fast=function(a,b,c,d){d?(c[0]=a[0]*b[0]+a[4]*b[1]+a[8]*b[2],c[4]=a[0]*b[4]+a[4]*b[5]+a[8]*b[6],c[8]=a[0]*b[8]+a[4]*b[9]+a[8]*b[10],c[12]=a[0]*b[12]+a[4]*b[13]+a[8]*b[14]+a[12],c[1]=a[1]*b[0]+a[5]*b[1]+a[9]*b[2],c[5]=a[1]*b[4]+a[5]*b[5]+a[9]*b[6],c[9]=a[1]*b[8]+a[5]*b[9]+a[9]*b[10],c[13]=a[1]*b[12]+a[5]*b[13]+a[9]*b[14]+a[13],c[2]=a[2]*b[0]+a[6]*b[1]+a[10]*b[2],c[6]=a[2]*b[4]+a[6]*b[5]+a[10]*b[6],c[10]=a[2]*b[8]+a[6]*b[9]+a[10]*b[10],c[14]=a[2]*b[12]+a[6]*b[13]+a[10]*b[14]+a[14],c[3]=c[7]=c[11]=0,c[15]=1):(c[0]=a[0]*b[0]+a[4]*b[1]+a[8]*b[2]+a[12]*b[3],c[4]=a[0]*b[4]+a[4]*b[5]+a[8]*b[6]+a[12]*b[7],c[8]=a[0]*b[8]+a[4]*b[9]+a[8]*b[10]+a[12]*b[11],c[12]=a[0]*b[12]+a[4]*b[13]+a[8]*b[14]+a[12]*b[15],c[1]=a[1]*b[0]+a[5]*b[1]+a[9]*b[2]+a[13]*b[3],c[5]=a[1]*b[4]+a[5]*b[5]+a[9]*b[6]+a[13]*b[7],c[9]=a[1]*b[8]+a[5]*b[9]+a[9]*b[10]+a[13]*b[11],c[13]=a[1]*b[12]+a[5]*b[13]+a[9]*b[14]+a[13]*b[15],c[2]=a[2]*b[0]+a[6]*b[1]+a[10]*b[2]+a[14]*b[3],c[6]=a[2]*b[4]+a[6]*b[5]+a[10]*b[6]+a[14]*b[7],c[10]=a[2]*b[8]+a[6]*b[9]+a[10]*b[10]+a[14]*b[11],c[14]=a[2]*b[12]+a[6]*b[13]+a[10]*b[14]+a[14]*b[15],c[3]=a[3]*b[0]+a[7]*b[1]+a[11]*b[2]+a[15]*b[3],c[7]=a[3]*b[4]+a[7]*b[5]+a[11]*b[6]+a[15]*b[7],c[11]=a[3]*b[8]+a[7]*b[9]+a[11]*b[10]+a[15]*b[11],c[15]=a[3]*b[12]+a[7]*b[13]+a[11]*b[14]+a[15]*b[15])
},H.prototype.translate=function(a,b,c){this.m[12]=this.m[0]*a+this.m[4]*b+this.m[8]*c+this.m[12],this.m[13]=this.m[1]*a+this.m[5]*b+this.m[9]*c+this.m[13],this.m[14]=this.m[2]*a+this.m[6]*b+this.m[10]*c+this.m[14],this.m[15]=this.m[3]*a+this.m[7]*b+this.m[11]*c+this.m[15]},H.prototype.scale=function(a,b,c){this.m[0]*=a,this.m[4]*=b,this.m[8]*=c,this.m[1]*=a,this.m[5]*=b,this.m[9]*=c,this.m[2]*=a,this.m[6]*=b,this.m[10]*=c,this.m[3]*=a,this.m[7]*=b,this.m[11]*=c},H.prototype.rotateX=function(a){var b=yb.fcos(a),c=yb._$9(a),d=this.m[4];this.m[4]=d*b+this.m[8]*c,this.m[8]=d*-c+this.m[8]*b,d=this.m[5],this.m[5]=d*b+this.m[9]*c,this.m[9]=d*-c+this.m[9]*b,d=this.m[6],this.m[6]=d*b+this.m[10]*c,this.m[10]=d*-c+this.m[10]*b,d=this.m[7],this.m[7]=d*b+this.m[11]*c,this.m[11]=d*-c+this.m[11]*b},H.prototype.rotateY=function(a){var b=yb.fcos(a),c=yb._$9(a),d=this.m[0];this.m[0]=d*b+this.m[8]*-c,this.m[8]=d*c+this.m[8]*b,d=this.m[1],this.m[1]=d*b+this.m[9]*-c,this.m[9]=d*c+this.m[9]*b,d=m[2],this.m[2]=d*b+this.m[10]*-c,this.m[10]=d*c+this.m[10]*b,d=m[3],this.m[3]=d*b+this.m[11]*-c,this.m[11]=d*c+this.m[11]*b},H.prototype.rotateZ=function(a){var b=yb.fcos(a),c=yb._$9(a),d=this.m[0];this.m[0]=d*b+this.m[4]*c,this.m[4]=d*-c+this.m[4]*b,d=this.m[1],this.m[1]=d*b+this.m[5]*c,this.m[5]=d*-c+this.m[5]*b,d=this.m[2],this.m[2]=d*b+this.m[6]*c,this.m[6]=d*-c+this.m[6]*b,d=this.m[3],this.m[3]=d*b+this.m[7]*c,this.m[7]=d*-c+this.m[7]*b},I.prototype=new cb,I._$tP=new Object,I._$27=function(){I._$tP.clear()},I.getID=function(a){var b=I._$tP[a];return null==b&&(b=new I(a),I._$tP[a]=b),b},I.prototype._$3s=function(){return new I},J._$kS=-1,J._$pS=0,J._$hb=1,J.STATE_IDENTITY=0,J._$gb=1,J._$fo=2,J._$go=4,J.prototype.transform=function(a,b,c){var d,e,f,g,h,i,l,m,j=0,k=0;switch(this._$hi){default:return;case J._$go|J._$fo|J._$gb:for(d=this._$7,e=this._$H,f=this._$k,g=this._$f,h=this._$g,i=this._$w;--c>=0;)l=a[j++],m=a[j++],b[k++]=d*l+e*m+f,b[k++]=g*l+h*m+i;return;case J._$go|J._$fo:for(d=this._$7,e=this._$H,g=this._$f,h=this._$g;--c>=0;)l=a[j++],m=a[j++],b[k++]=d*l+e*m,b[k++]=g*l+h*m;return;case J._$go|J._$gb:for(e=this._$H,f=this._$k,g=this._$f,i=this._$w;--c>=0;)l=a[j++],b[k++]=e*a[j++]+f,b[k++]=g*l+i;return;case J._$go:for(e=this._$H,g=this._$f;--c>=0;)l=a[j++],b[k++]=e*a[j++],b[k++]=g*l;return;case J._$fo|J._$gb:for(d=this._$7,f=this._$k,h=this._$g,i=this._$w;--c>=0;)b[k++]=d*a[j++]+f,b[k++]=h*a[j++]+i;return;case J._$fo:for(d=this._$7,h=this._$g;--c>=0;)b[k++]=d*a[j++],b[k++]=h*a[j++];return;case J._$gb:for(f=this._$k,i=this._$w;--c>=0;)b[k++]=a[j++]+f,b[k++]=a[j++]+i;return;case J.STATE_IDENTITY:return void(a==b&&j==k||D._$jT(a,j,b,k,2*c))}},J.prototype.update=function(){0==this._$H&&0==this._$f?1==this._$7&&1==this._$g?0==this._$k&&0==this._$w?(this._$hi=J.STATE_IDENTITY,this._$Z=J._$pS):(this._$hi=J._$gb,this._$Z=J._$hb):0==this._$k&&0==this._$w?(this._$hi=J._$fo,this._$Z=J._$kS):(this._$hi=J._$fo|J._$gb,this._$Z=J._$kS):0==this._$7&&0==this._$g?0==this._$k&&0==this._$w?(this._$hi=J._$go,this._$Z=J._$kS):(this._$hi=J._$go|J._$gb,this._$Z=J._$kS):0==this._$k&&0==this._$w?(this._$hi=J._$go|J._$fo,this._$Z=J._$kS):(this._$hi=J._$go|J._$fo|J._$gb,this._$Z=J._$kS)},J.prototype._$RT=function(a){this._$IT(a);var b=a[0],c=a[2],d=a[1],e=a[3],f=Math.sqrt(b*b+d*d),g=b*e-c*d;0==f?ib._$so&&console.log("affine._$RT() / rt==0"):(a[0]=f,a[1]=g/f,a[2]=(d*e+b*c)/g,a[3]=Math.atan2(d,b))},J.prototype._$ho=function(a,b,c,d){var g,e=new Float32Array(6),f=new Float32Array(6);a._$RT(e),b._$RT(f),g=new Float32Array(6),g[0]=e[0]+(f[0]-e[0])*c,g[1]=e[1]+(f[1]-e[1])*c,g[2]=e[2]+(f[2]-e[2])*c,g[3]=e[3]+(f[3]-e[3])*c,g[4]=e[4]+(f[4]-e[4])*c,g[5]=e[5]+(f[5]-e[5])*c,d._$CT(g)},J.prototype._$CT=function(a){var b=Math.cos(a[3]),c=Math.sin(a[3]);this._$7=a[0]*b,this._$f=a[0]*c,this._$H=a[1]*(a[2]*b-c),this._$g=a[1]*(a[2]*c+b),this._$k=a[4],this._$w=a[5],this.update()},J.prototype._$IT=function(a){a[0]=this._$7,a[1]=this._$f,a[2]=this._$H,a[3]=this._$g,a[4]=this._$k,a[5]=this._$w},K.prototype=new g,K._$cs="VISIBLE:",K._$ar="LAYOUT:",K._$Co=0,K._$D2=[],K._$1T=1,K.loadMotion=function(a){var e,f,g,h,i,j,k,l,m,b=new K,c=[0],d=a.length;for(b._$yT=0,e=0;d>e;++e)if(f=255&a[e],"\n"!=f&&"\r"!=f)if("#"!=f)if("$"!=f){if(f>="a"&&"z">=f||f>="A"&&"Z">=f||"_"==f){for(g=e,h=-1;d>e&&"\r"!=(f=255&a[e])&&"\n"!=f;++e)if("="==f){h=e;break}if(h>=0){for(i=new M,F.startsWith(a,g,K._$cs)?(i._$RP=M._$hs,i._$4P=new String(a,g,h-g)):F.startsWith(a,g,K._$ar)?(i._$4P=new String(a,g+7,h-g-7),F.startsWith(a,g+7,"ANCHOR_X")?i._$RP=M._$xs:F.startsWith(a,g+7,"ANCHOR_Y")?i._$RP=M._$us:F.startsWith(a,g+7,"SCALE_X")?i._$RP=M._$qs:F.startsWith(a,g+7,"SCALE_Y")?i._$RP=M._$Ys:F.startsWith(a,g+7,"X")?i._$RP=M._$ws:F.startsWith(a,g+7,"Y")&&(i._$RP=M._$Ns)):(i._$RP=M._$Fr,i._$4P=new String(a,g,h-g)),b.motions.push(i),j=0,K._$D2.clear(),e=h+1;d>e&&"\r"!=(f=255&a[e])&&"\n"!=f;++e)if(","!=f&&" "!=f&&"	"!=f&&(k=F._$LS(a,d,e,c),c[0]>0)){if(K._$D2.push(k),j++,l=c[0],e>l){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}e=l}i._$I0=K._$D2._$BL(),j>b._$yT&&(b._$yT=j)}}}else{for(g=e,h=-1;d>e&&"\r"!=(f=255&a[e])&&"\n"!=f;++e)if("="==f){h=e;break}if(m=!1,h>=0)for(h==g+4&&"f"==a[g+1]&&"p"==a[g+2]&&"s"==a[g+3]&&(m=!0),e=h+1;d>e&&"\r"!=(f=255&a[e])&&"\n"!=f;++e)","!=f&&" "!=f&&"	"!=f&&(k=F._$LS(a,d,e,c),c[0]>0&&m&&k>5&&121>k&&(b._$D0=k),e=c[0]);for(;d>e&&"\n"!=a[e]&&"\r"!=a[e];++e);}else for(;d>e&&"\n"!=a[e]&&"\r"!=a[e];++e);return b._$AS=0|1e3*b._$yT/b._$D0,b},K.prototype.getDurationMSec=function(){return this._$AS},K.prototype.dump=function(){var a,b,c;for(a=0;a<this.motions.length;a++){for(b=this.motions[a],console.log("_$wL[%s] [%d]. ",b._$4P,b._$I0.length),c=0;c<b._$I0.length&&10>c;c++)console.log("%5.2f ,",b._$I0[c]);console.log("\n")}},K.prototype.updateParamExe=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(e=b-d._$z2,f=e*this._$D0/1e3,g=0|f,h=f-g,i=0;i<this.motions.length;i++)j=this.motions[i],k=j._$I0.length,l=j._$4P,j._$RP==M._$hs?(m=j._$I0[g>=k?k-1:g],a.setParamFloat(l,m)):M._$ws<=j._$RP&&j._$RP<=M._$Ys||(n=a.getParamFloat(l),o=j._$I0[g>=k?k-1:g],p=j._$I0[g+1>=k?k-1:g+1],q=o+(p-o)*h,r=n+(q-n)*c,a.setParamFloat(l,r));g>=this._$yT&&(this._$E?(d._$z2=b,this.loopFadeIn&&(d._$bs=b)):d._$9L=!0)},K.prototype._$r0=function(){return this._$E},K.prototype._$aL=function(a){this._$E=a},K.prototype.isLoopFadeIn=function(){return this.loopFadeIn},K.prototype.setLoopFadeIn=function(a){this.loopFadeIn=a},L.prototype.clear=function(){this.size=0},L.prototype.add=function(a){if(this._$P.length<=this.size){var b=new Float32Array(2*this.size);D._$jT(this._$P,0,b,0,this.size),this._$P=b}this._$P[this.size++]=a},L.prototype._$BL=function(){var a=new Float32Array(this.size);return D._$jT(this._$P,0,a,0,this.size),a},M._$Fr=0,M._$hs=1,M._$ws=100,M._$Ns=101,M._$xs=102,M._$us=103,M._$qs=104,M._$Ys=105,N._$Ms=1,N._$Qs=2,N._$i2=0,N._$No=2,N._$do=N._$Ms,N._$Ls=!0,N._$1r=5,N._$Qb=65,N._$J=1e-4,N._$FT=.001,N._$Ss=3,O._$o7=6,O._$S7=7,O._$s7=8,O._$77=9,O.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,O.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,O._$T7=O.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,O._$Is=-2004318072,O._$h0=0,O._$4L=23,O._$7P=33,O._$uT=function(a){console.log("_$bo :: _$6 _$mo _$E0 : %d\n",a)},O._$9o=function(a){if(40>a)return O._$uT(a),null;if(50>a)return O._$uT(a),null;if(60>a)return O._$uT(a),null;if(100>a)switch(a){case 65:return new $;case 66:return new G;case 67:return new E;case 68:return new T;case 69:return new v;case 70:return new lb;default:return O._$uT(a),null}else if(150>a)switch(a){case 131:return new gb;case 133:return new ab;case 136:return new o;case 137:return new eb;case 142:return new W}return O._$uT(a),null},P._$HP=0,P._$_0=!0,P._$V2=-1,P._$W0=-1,P._$jr=!1,P._$ZS=!0,P._$tr=-1e6,P._$lr=1e6,P._$is=32,P._$e=!1,P.prototype.getDrawDataIndex=function(a){for(var b=this._$aS.length-1;b>=0;--b)if(null!=this._$aS[b]&&this._$aS[b].getDrawDataID()==a)return b;return-1},P.prototype.getDrawData=function(a){var b,c,d,e;if(a instanceof I){if(null==this._$Bo)for(this._$Bo=new Object,b=this._$aS.length,c=0;b>c;c++)d=this._$aS[c],e=d.getDrawDataID(),null!=e&&(this._$Bo[e]=d);return this._$Bo[id]}return a<this._$aS.length?this._$aS[a]:null},P.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),null!=this._$Bo&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},P.prototype.init=function(){var a,b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;for(this._$co++,this._$F2.length>0&&this.release(),a=this._$Ri.getModelImpl(),b=a._$Xr(),d=b.length,e=new Array,f=new Array,g=0;d>g;++g){for(h=b[g],this._$F2.push(h),this._$Hr.push(h.init(this)),i=h.getBaseData(),j=i.length,k=0;j>k;++k)e.push(i[k]);for(k=0;j>k;++k)l=i[k].init(this),l._$l2(g),f.push(l);for(m=h.getDrawData(),n=m.length,k=0;n>k;++k)o=m[k],p=o.init(this),p._$IP=g,this._$aS.push(o),this._$8b.push(p)}for(q=e.length,r=sb._$2o();;){for(s=!1,g=0;q>g;++g)t=e[g],null!=t&&(u=t.getTargetBaseDataID(),(null==u||u==r||this.getBaseDataIndex(u)>=0)&&(this._$3S.push(t),this._$db.push(f[g]),e[g]=null,s=!0));if(!s)break}if(v=a._$E2(),null!=v&&(w=v._$1s(),null!=w))for(x=w.length,g=0;x>g;++g)y=w[g],null!=y&&this._$02(y.getParamID(),y.getDefaultValue(),y.getMinValue(),y.getMaxValue());this.clipManager=new c(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},P.prototype.update=function(){var a,b,c,d,e,f,g,i,j,k,l,m,n,o,p,q,r;for(P._$e&&h.start("_$zL"),a=this._$_2.length,b=0;a>b;b++)this._$_2[b]!=this._$vr[b]&&(this._$Js[b]=P._$ZS,this._$vr[b]=this._$_2[b]);for(c=this._$3S.length,d=this._$aS.length,e=V._$or(),f=V._$Pr(),g=f-e+1,(null==this._$Ws||this._$Ws.length<g)&&(this._$Ws=new Int16Array(g),this._$Vs=new Int16Array(g)),b=0;g>b;b++)this._$Ws[b]=P._$V2,this._$Vs[b]=P._$V2;for((null==this._$Er||this._$Er.length<d)&&(this._$Er=new Int16Array(d)),b=0;d>b;b++)this._$Er[b]=P._$W0;for(P._$e&&h.dump("_$zL"),P._$e&&h.start("_$UL"),i=null,j=0;c>j;++j){k=this._$3S[j],l=this._$db[j];try{k._$Nr(this,l),k._$2b(this,l)}catch(a){null==i&&(i=a)}}for(null!=i&&P._$_0&&h._$Rb(i),P._$e&&h.dump("_$UL"),P._$e&&h.start("_$DL"),m=null,n=0;d>n;++n){o=this._$aS[n],p=this._$8b[n];try{if(o._$Nr(this,p),p._$u2())continue;o._$2b(this,p),r=Math.floor(o._$zS(this,p)-e);try{q=this._$Vs[r]}catch(a){console.log("_$li :: %s / %s 				@@_$fS\n",a.toString(),o.getDrawDataID().toString()),r=Math.floor(o._$zS(this,p)-e);continue}q==P._$V2?this._$Ws[r]=n:this._$Er[q]=n,this._$Vs[r]=n}catch(a){null==m&&(m=a,ib._$sT(ib._$H7))}}for(null!=m&&P._$_0&&h._$Rb(m),P._$e&&h.dump("_$DL"),P._$e&&h.start("_$eL"),b=this._$Js.length-1;b>=0;b--)this._$Js[b]=P._$jr;return this._$QT=!1,P._$e&&h.dump("_$eL"),!1},P.prototype.preDraw=function(a){null!=this.clipManager&&(a._$ZT(),this.clipManager.setupClip(this,a))},P.prototype.draw=function(a){var b,c,d,e,f,g,i,j;if(null==this._$Ws)return void h._$li("call _$Ri.update() before _$Ri.draw() ");for(b=this._$Ws.length,a._$ZT(),c=0;b>c;++c)if(d=this._$Ws[c],d!=P._$V2)for(;e=this._$aS[d],f=this._$8b[d],f._$yo()&&(g=f._$IP,i=this._$Hr[g],f._$VS=i.getPartsOpacity(),e.draw(a,this,f)),j=this._$Er[d],!(d>=j||j==P._$W0);)d=j},P.prototype.getParamIndex=function(a){for(var b=this._$pb.length-1;b>=0;--b)if(this._$pb[b]==a)return b;return this._$02(a,0,P._$tr,P._$lr)},P.prototype._$BS=function(a){return this.getBaseDataIndex(a)},P.prototype.getBaseDataIndex=function(a){for(var b=this._$3S.length-1;b>=0;--b)if(null!=this._$3S[b]&&this._$3S[b].getBaseDataID()==a)return b;return-1},P.prototype._$UT=function(a,b){var c=new Float32Array(b);return D._$jT(a,0,c,0,a.length),c},P.prototype._$02=function(a,b,c,d){var e,f,g;return this._$qo>=this._$pb.length&&(e=this._$pb.length,f=new Array(2*e),D._$jT(this._$pb,0,f,0,e),this._$pb=f,this._$_2=this._$UT(this._$_2,2*e),this._$vr=this._$UT(this._$vr,2*e),this._$Rr=this._$UT(this._$Rr,2*e),this._$Or=this._$UT(this._$Or,2*e),g=new Array,D._$jT(this._$Js,0,g,0,e),this._$Js=g),this._$pb[this._$qo]=a,this._$_2[this._$qo]=b,this._$vr[this._$qo]=b,this._$Rr[this._$qo]=c,this._$Or[this._$qo]=d,this._$Js[this._$qo]=P._$ZS,this._$qo++},P.prototype._$Zo=function(a,b){this._$3S[a]=b},P.prototype.setParamFloat=function(a,b){b<this._$Rr[a]&&(b=this._$Rr[a]),b>this._$Or[a]&&(b=this._$Or[a]),this._$_2[a]=b},P.prototype.loadParam=function(){var a=this._$_2.length;a>this._$fs.length&&(a=this._$fs.length),D._$jT(this._$fs,0,this._$_2,0,a)},P.prototype.saveParam=function(){var a=this._$_2.length;a>this._$fs.length&&(this._$fs=new Float32Array(a)),D._$jT(this._$_2,0,this._$fs,0,a)},P.prototype._$v2=function(){return this._$co},P.prototype._$WS=function(){return this._$QT},P.prototype._$Xb=function(a){return this._$Js[a]==P._$ZS},P.prototype._$vs=function(){return this._$Es},P.prototype._$Tr=function(){return this._$ZP},P.prototype.getBaseData=function(a){return this._$3S[a]},P.prototype.getParamFloat=function(a){return this._$_2[a]},P.prototype.getParamMax=function(a){return this._$Or[a]},P.prototype.getParamMin=function(a){return this._$Rr[a]},P.prototype.setPartsOpacity=function(a,b){this._$Hr[a].setPartsOpacity(b)},P.prototype.getPartsOpacity=function(a){return this._$Hr[a].getPartsOpacity()},P.prototype.getPartsDataIndex=function(a){for(var b=this._$F2.length-1;b>=0;--b)if(null!=this._$F2[b]&&this._$F2[b]._$p2()==a)return b;return-1},P.prototype._$q2=function(a){return this._$db[a]},P.prototype._$C2=function(a){return this._$8b[a]},P.prototype._$Bb=function(a){return this._$Hr[a]},P.prototype._$5s=function(a,b){var c,d,e,f,g,h;for(c=this._$Ws.length,d=a,e=0;c>e;++e)if(f=this._$Ws[e],f!=P._$V2)for(;g=this._$8b[f],g._$yo()&&(g._$GT()._$B2(this,g,d),d+=b),h=this._$Er[f],!(f>=h||h==P._$W0);)f=h},P.prototype.setDrawParam=function(a){this.dp_webgl=a},P.prototype.getDrawParam=function(){return this.dp_webgl},Q._$0T=function(a){return Q._$0T(new _$5(a))},Q._$0T=function(a){if(!a.exists())throw new _$ls(a._$3b());for(var b,c=a.length(),d=new Int8Array(c),e=new _$Xs(new _$kb(a),8192),f=0;(b=e.read(d,f,c-f))>0;)f+=b;return d},Q._$C=function(a){var d,e,b=null,c=null;try{for(b=a instanceof Array?a:new _$Xs(a,8192),c=new _$js,e=new Int8Array(1e3);(d=b.read(e))>0;)c.write(e,0,d);return c._$TS()}finally{null!=a&&a.close(),null!=c&&(c.flush(),c.close())}},R.prototype._$T2=function(){return D.getUserTimeMSec()+Math._$10()*(2*this._$Br-1)},R.prototype._$uo=function(a){this._$Br=a},R.prototype._$QS=function(a,b,c){this._$Dr=a,this._$Cb=b,this._$mr=c},R.prototype._$7T=function(a){var b,c=D.getUserTimeMSec(),d=0;switch(this._$_L){case STATE_CLOSING:d=(c-this._$bb)/this._$Dr,d>=1&&(d=1,this._$_L=Db.STATE_CLOSED,this._$bb=c),b=1-d;break;case STATE_CLOSED:d=(c-this._$bb)/this._$Cb,d>=1&&(this._$_L=Db.STATE_OPENING,this._$bb=c),b=0;break;case STATE_OPENING:d=(c-this._$bb)/this._$mr,d>=1&&(d=1,this._$_L=Db.STATE_INTERVAL,this._$12=this._$T2()),b=d;break;case STATE_INTERVAL:this._$12<c&&(this._$_L=Db.STATE_CLOSING,this._$bb=c),b=1;break;case STATE_FIRST:default:this._$_L=Db.STATE_INTERVAL,this._$12=this._$T2(),b=1}this._$jo||(b=-b),a.setParamFloat(this._$iL,b),a.setParamFloat(this._$0L,b)},Db=function(){},Db.STATE_FIRST="STATE_FIRST",Db.STATE_INTERVAL="STATE_INTERVAL",Db.STATE_CLOSING="STATE_CLOSING",Db.STATE_CLOSED="STATE_CLOSED",Db.STATE_OPENING="STATE_OPENING",S.prototype=new A,S._$As=32,S._$Gr=!1,S._$NT=null,S._$vS=null,S._$no=null,S._$9r=function(a){return new Float32Array(a)},S._$vb=function(a){return new Int16Array(a)},S._$cr=function(a,b){return null==a||a._$yL()<b.length?(a=S._$9r(2*b.length),a.put(b),a._$oT(0)):(a.clear(),a.put(b),a._$oT(0)),a},S._$mb=function(a,b){return null==a||a._$yL()<b.length?(a=S._$vb(2*b.length),a.put(b),a._$oT(0)):(a.clear(),a.put(b),a._$oT(0)),a},S._$Hs=function(){return S._$Gr},S._$as=function(a){S._$Gr=a},S.prototype.setGL=function(a){this.gl=a},S.prototype.setTransform=function(a){this.transform=a},S.prototype._$ZT=function(){},S.prototype._$Uo=function(a,b,c,d,e,f,g,h){if(!(.01>f)){var i=this._$U2[a],j=f>.9?ib.EXPAND_W:0;this.gl.drawElements(i,c,d,e,f,j,this.transform,h)}},S.prototype._$Rs=function(){throw new Error("_$Rs")},S.prototype._$Ds=function(){throw new Error("_$Ds")},S.prototype._$K2=function(){for(var a=0;a<this._$sb.length;a++)0!=this._$sb[a]&&(this.gl._$Sr(1,this._$sb,a),this._$sb[a]=0)},S.prototype.setTexture=function(a,b){this._$sb.length<a+1&&this._$nS(a),this._$sb[a]=b},S.prototype.setTexture=function(a,b){this._$sb.length<a+1&&this._$nS(a),this._$U2[a]=b},S.prototype._$nS=function(a){var d,b=Math.max(2*this._$sb.length,a+1+10),c=new Int32Array(b);D._$jT(this._$sb,0,c,0,this._$sb.length),this._$sb=c,d=new Array,D._$jT(this._$U2,0,d,0,this._$U2.length),this._$U2=d},T.prototype=new C,T._$Xo=new Float32Array(2),T._$io=new Float32Array(2),T._$0o=new Float32Array(2),T._$Lo=new Float32Array(2),T._$To=new Float32Array(2),T._$Po=new Float32Array(2),T._$gT=new Array,T.prototype._$zP=function(){this._$GS=new G,this._$GS._$zP(),this._$Y0=new Array},T.prototype.getType=function(){return C._$c2},T.prototype._$F0=function(a){C.prototype._$F0.call(this,a),this._$GS=a._$nP(),this._$Y0=a._$nP(),C.prototype.readV2_opacity.call(this,a)},T.prototype.init=function(){var b=new U(this);return b._$Yr=new v,this._$32()&&(b._$Wr=new v),b},T.prototype._$Nr=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb;if(this!=b._$GT()&&console.log("### assert!! ### "),c=b,this._$GS._$Ur(a)){if(d=T._$gT,d[0]=!1,e=this._$GS._$Q2(a,d),b._$Ib(d[0]),this.interpolateOpacity(a,this._$GS,b,d),f=a._$vs(),g=a._$Tr(),this._$GS._$zr(f,g,e),0>=e)h=this._$Y0[f[0]],c._$Yr.init(h);else if(1==e)h=this._$Y0[f[0]],i=this._$Y0[f[1]],j=g[0],c._$Yr._$fL=h._$fL+(i._$fL-h._$fL)*j,c._$Yr._$gL=h._$gL+(i._$gL-h._$gL)*j,c._$Yr._$B0=h._$B0+(i._$B0-h._$B0)*j,c._$Yr._$z0=h._$z0+(i._$z0-h._$z0)*j,c._$Yr._$qT=h._$qT+(i._$qT-h._$qT)*j;else if(2==e)h=this._$Y0[f[0]],i=this._$Y0[f[1]],k=this._$Y0[f[2]],l=this._$Y0[f[3]],j=g[0],m=g[1],n=h._$fL+(i._$fL-h._$fL)*j,o=k._$fL+(l._$fL-k._$fL)*j,c._$Yr._$fL=n+(o-n)*m,n=h._$gL+(i._$gL-h._$gL)*j,o=k._$gL+(l._$gL-k._$gL)*j,c._$Yr._$gL=n+(o-n)*m,n=h._$B0+(i._$B0-h._$B0)*j,o=k._$B0+(l._$B0-k._$B0)*j,c._$Yr._$B0=n+(o-n)*m,n=h._$z0+(i._$z0-h._$z0)*j,o=k._$z0+(l._$z0-k._$z0)*j,c._$Yr._$z0=n+(o-n)*m,n=h._$qT+(i._$qT-h._$qT)*j,o=k._$qT+(l._$qT-k._$qT)*j,c._$Yr._$qT=n+(o-n)*m;else if(3==e)p=this._$Y0[f[0]],q=this._$Y0[f[1]],r=this._$Y0[f[2]],s=this._$Y0[f[3]],t=this._$Y0[f[4]],u=this._$Y0[f[5]],v=this._$Y0[f[6]],w=this._$Y0[f[7]],j=g[0],m=g[1],x=g[2],n=p._$fL+(q._$fL-p._$fL)*j,o=r._$fL+(s._$fL-r._$fL)*j,y=t._$fL+(u._$fL-t._$fL)*j,z=v._$fL+(w._$fL-v._$fL)*j,c._$Yr._$fL=(1-x)*(n+(o-n)*m)+x*(y+(z-y)*m),n=p._$gL+(q._$gL-p._$gL)*j,o=r._$gL+(s._$gL-r._$gL)*j,y=t._$gL+(u._$gL-t._$gL)*j,z=v._$gL+(w._$gL-v._$gL)*j,c._$Yr._$gL=(1-x)*(n+(o-n)*m)+x*(y+(z-y)*m),n=p._$B0+(q._$B0-p._$B0)*j,o=r._$B0+(s._$B0-r._$B0)*j,y=t._$B0+(u._$B0-t._$B0)*j,z=v._$B0+(w._$B0-v._$B0)*j,c._$Yr._$B0=(1-x)*(n+(o-n)*m)+x*(y+(z-y)*m),n=p._$z0+(q._$z0-p._$z0)*j,o=r._$z0+(s._$z0-r._$z0)*j,y=t._$z0+(u._$z0-t._$z0)*j,z=v._$z0+(w._$z0-v._$z0)*j,c._$Yr._$z0=(1-x)*(n+(o-n)*m)+x*(y+(z-y)*m),n=p._$qT+(q._$qT-p._$qT)*j,o=r._$qT+(s._$qT-r._$qT)*j,y=t._$qT+(u._$qT-t._$qT)*j,z=v._$qT+(w._$qT-v._$qT)*j,c._$Yr._$qT=(1-x)*(n+(o-n)*m)+x*(y+(z-y)*m);else if(4==e)A=this._$Y0[f[0]],B=this._$Y0[f[1]],C=this._$Y0[f[2]],D=this._$Y0[f[3]],E=this._$Y0[f[4]],F=this._$Y0[f[5]],G=this._$Y0[f[6]],H=this._$Y0[f[7]],I=this._$Y0[f[8]],J=this._$Y0[f[9]],K=this._$Y0[f[10]],L=this._$Y0[f[11]],M=this._$Y0[f[12]],N=this._$Y0[f[13]],O=this._$Y0[f[14]],P=this._$Y0[f[15]],j=g[0],m=g[1],x=g[2],Q=g[3],n=A._$fL+(B._$fL-A._$fL)*j,o=C._$fL+(D._$fL-C._$fL)*j,y=E._$fL+(F._$fL-E._$fL)*j,z=G._$fL+(H._$fL-G._$fL)*j,R=I._$fL+(J._$fL-I._$fL)*j,S=K._$fL+(L._$fL-K._$fL)*j,U=M._$fL+(N._$fL-M._$fL)*j,V=O._$fL+(P._$fL-O._$fL)*j,c._$Yr._$fL=(1-Q)*((1-x)*(n+(o-n)*m)+x*(y+(z-y)*m))+Q*((1-x)*(R+(S-R)*m)+x*(U+(V-U)*m)),n=A._$gL+(B._$gL-A._$gL)*j,o=C._$gL+(D._$gL-C._$gL)*j,y=E._$gL+(F._$gL-E._$gL)*j,z=G._$gL+(H._$gL-G._$gL)*j,R=I._$gL+(J._$gL-I._$gL)*j,S=K._$gL+(L._$gL-K._$gL)*j,U=M._$gL+(N._$gL-M._$gL)*j,V=O._$gL+(P._$gL-O._$gL)*j,c._$Yr._$gL=(1-Q)*((1-x)*(n+(o-n)*m)+x*(y+(z-y)*m))+Q*((1-x)*(R+(S-R)*m)+x*(U+(V-U)*m)),n=A._$B0+(B._$B0-A._$B0)*j,o=C._$B0+(D._$B0-C._$B0)*j,y=E._$B0+(F._$B0-E._$B0)*j,z=G._$B0+(H._$B0-G._$B0)*j,R=I._$B0+(J._$B0-I._$B0)*j,S=K._$B0+(L._$B0-K._$B0)*j,U=M._$B0+(N._$B0-M._$B0)*j,V=O._$B0+(P._$B0-O._$B0)*j,c._$Yr._$B0=(1-Q)*((1-x)*(n+(o-n)*m)+x*(y+(z-y)*m))+Q*((1-x)*(R+(S-R)*m)+x*(U+(V-U)*m)),n=A._$z0+(B._$z0-A._$z0)*j,o=C._$z0+(D._$z0-C._$z0)*j,y=E._$z0+(F._$z0-E._$z0)*j,z=G._$z0+(H._$z0-G._$z0)*j,R=I._$z0+(J._$z0-I._$z0)*j,S=K._$z0+(L._$z0-K._$z0)*j,U=M._$z0+(N._$z0-M._$z0)*j,V=O._$z0+(P._$z0-O._$z0)*j,c._$Yr._$z0=(1-Q)*((1-x)*(n+(o-n)*m)+x*(y+(z-y)*m))+Q*((1-x)*(R+(S-R)*m)+x*(U+(V-U)*m)),n=A._$qT+(B._$qT-A._$qT)*j,o=C._$qT+(D._$qT-C._$qT)*j,y=E._$qT+(F._$qT-E._$qT)*j,z=G._$qT+(H._$qT-G._$qT)*j,R=I._$qT+(J._$qT-I._$qT)*j,S=K._$qT+(L._$qT-K._$qT)*j,U=M._$qT+(N._$qT-M._$qT)*j,V=O._$qT+(P._$qT-O._$qT)*j,c._$Yr._$qT=(1-Q)*((1-x)*(n+(o-n)*m)+x*(y+(z-y)*m))+Q*((1-x)*(R+(S-R)*m)+x*(U+(V-U)*m));else{for(W=0|Math.pow(2,e),X=new Float32Array(W),Y=0;W>Y;Y++){for(Z=Y,$=1,_=0;e>_;_++)$*=0==Z%2?1-g[_]:g[_],Z/=2;X[Y]=$}for(ab=new Array,bb=0;W>bb;bb++)ab[bb]=this._$Y0[f[bb]];for(cb=0,db=0,eb=0,fb=0,gb=0,bb=0;W>bb;bb++)cb+=X[bb]*ab[bb]._$fL,db+=X[bb]*ab[bb]._$gL,eb+=X[bb]*ab[bb]._$B0,fb+=X[bb]*ab[bb]._$z0,gb+=X[bb]*ab[bb]._$qT;c._$Yr._$fL=cb,c._$Yr._$gL=db,c._$Yr._$B0=eb,c._$Yr._$z0=fb,c._$Yr._$qT=gb}h=this._$Y0[f[0]],c._$Yr.reflectX=h.reflectX,c._$Yr.reflectY=h.reflectY}},T.prototype._$2b=function(a,b){var c,d,e,f,g,i,j,k,l,m;this!=b._$GT()&&console.log("### assert!! ### "),c=b,c._$hS(!0),this._$32()?(d=this.getTargetBaseDataID(),c._$8r==C._$ur&&(c._$8r=a.getBaseDataIndex(d)),c._$8r<0?(ib._$so&&h._$li("_$L _$0P _$G :: %s",d),c._$hS(!1)):(e=a.getBaseData(c._$8r),null!=e?(f=a._$q2(c._$8r),g=T._$Xo,g[0]=c._$Yr._$fL,g[1]=c._$Yr._$gL,i=T._$io,i[0]=0,i[1]=-.1,i[1]=f._$GT().getType()==C._$c2?-10:-.1,j=T._$0o,this._$Jr(a,e,f,g,i,j),k=yb._$92(i,j),e._$nb(a,f,g,g,1,0,2),c._$Wr._$fL=g[0],c._$Wr._$gL=g[1],c._$Wr._$B0=c._$Yr._$B0,c._$Wr._$z0=c._$Yr._$z0,c._$Wr._$qT=c._$Yr._$qT-k*yb._$NS,l=f.getTotalScale(),c.setTotalScale_notForClient(l*c._$Wr._$B0),m=f.getTotalOpacity(),c.setTotalOpacity(m*c.getInterpolatedOpacity()),c._$Wr.reflectX=c._$Yr.reflectX,c._$Wr.reflectY=c._$Yr.reflectY,c._$hS(f._$yo())):c._$hS(!1))):(c.setTotalScale_notForClient(c._$Yr._$B0),c.setTotalOpacity(c.getInterpolatedOpacity()))},T.prototype._$nb=function(a,b,c,d,e,f,g){this!=b._$GT()&&console.log("### assert!! ### ");for(var h,i,j=b,k=null!=j._$Wr?j._$Wr:j._$Yr,l=Math.sin(yb._$bS*k._$qT),m=Math.cos(yb._$bS*k._$qT),n=j.getTotalScale(),o=k.reflectX?-1:1,p=k.reflectY?-1:1,q=m*n*o,r=-l*n*p,s=l*n*o,t=m*n*p,u=k._$fL,v=k._$gL,w=e*g,x=f;w>x;x+=g)h=c[x],i=c[x+1],d[x]=q*h+r*i+u,d[x+1]=s*h+t*i+v},T.prototype._$Jr=function(a,b,c,d,e,f){var g,h,i,j,k;for(b!=c._$GT()&&console.log("### assert!! ### "),g=T._$Lo,T._$Lo[0]=d[0],T._$Lo[1]=d[1],b._$nb(a,c,g,g,1,0,2),h=T._$To,i=T._$Po,j=1,k=0;10>k;k++){if(i[0]=d[0]+j*e[0],i[1]=d[1]+j*e[1],b._$nb(a,c,i,h,1,0,2),h[0]-=g[0],h[1]-=g[1],0!=h[0]||0!=h[1])return f[0]=h[0],void(f[1]=h[1]);if(i[0]=d[0]-j*e[0],i[1]=d[1]-j*e[1],b._$nb(a,c,i,h,1,0,2),h[0]-=g[0],h[1]-=g[1],0!=h[0]||0!=h[1])return h[0]=-h[0],h[0]=-h[0],f[0]=h[0],void(f[1]=h[1]);j*=.1}ib._$so&&console.log("_$L0 to transform _$SP\n")},U.prototype=new hb,V.prototype=new z,V._$ur=-2,V._$ES=500,V._$wb=2,V._$8S=3,V._$os=4,V._$52=V._$ES,V._$R2=V._$ES,V._$Sb=function(a){var b,c;for(b=a.length-1;b>=0;--b)c=a[b],c<V._$52?V._$52=c:c>V._$R2&&(V._$R2=c)},V._$or=function(){return V._$52},V._$Pr=function(){return V._$R2},V.prototype._$F0=function(a){this._$gP=a._$nP(),this._$dr=a._$nP(),this._$GS=a._$nP(),this._$qb=a._$6L(),this._$Lb=a._$cS(),this._$mS=a._$Tb(),a.getFormatVersion()>=O._$T7?(this.clipID=a._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,V._$Sb(this._$Lb)},V.prototype.getClipIDList=function(){return this.clipIDList},V.prototype._$Nr=function(a,b){if(b._$IS[0]=!1,b._$Us=x._$Z2(a,this._$GS,b._$IS,this._$Lb),ib._$Zs);else if(b._$IS[0])return;b._$7s=x._$br(a,this._$GS,b._$IS,this._$mS)},V.prototype._$2b=function(){},V.prototype.getDrawDataID=function(){return this._$gP},V.prototype._$j2=function(a){this._$gP=a},V.prototype.getOpacity=function(a,b){return b._$7s},V.prototype._$zS=function(a,b){return b._$Us},V.prototype.getTargetBaseDataID=function(){return this._$dr},V.prototype._$gs=function(a){this._$dr=a},V.prototype._$32=function(){return null!=this._$dr&&this._$dr!=sb._$2o()},V.prototype.getType=function(){},W._$42=0,W.prototype._$1b=function(){return this._$3S},W.prototype.getDrawDataList=function(){return this._$aS},W.prototype._$F0=function(a){this._$NL=a._$nP(),this._$aS=a._$nP(),this._$3S=a._$nP()},W.prototype._$kr=function(a){a._$Zo(this._$3S),a._$xo(this._$aS),this._$3S=null,this._$aS=null},X.prototype=new b,X.loadModel=function(a){var c=new X;return b._$62(c,a),c},X.loadModel=function(a){var c=new X;return b._$62(c,a),c},X._$to=function(){return new X},X._$er=function(a){var c,d,e,f,b=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==b.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+b._$PL());for(c=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],d=X.loadModel(b._$3b()),e=0;e<c.length;e++){if(f=new _$5(c[e]),0==f.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+f._$PL());d.setTexture(e,_$nL._$_o(a,f._$3b()))}return d},X.prototype.setGL=function(a){this._$zo.setGL(a)},X.prototype.setTransform=function(a){this._$zo.setTransform(a)},X.prototype.draw=function(){this._$5S.draw(this._$zo)},X.prototype._$K2=function(){this._$zo._$K2()},X.prototype.setTexture=function(a,b){null==this._$zo&&h._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(a,b)},X.prototype.setTexture=function(a,b){null==this._$zo&&h._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(a,b)},X.prototype._$Rs=function(){return this._$zo._$Rs()},X.prototype._$Ds=function(a){this._$zo._$Ds(a)},X.prototype.getDrawParam=function(){return this._$zo},Y.prototype=new g,Y._$cs="VISIBLE:",Y._$ar="LAYOUT:",Y.MTN_PREFIX_FADEIN="FADEIN:",Y.MTN_PREFIX_FADEOUT="FADEOUT:",Y._$Co=0,Y._$1T=1,Y.loadMotion=function(a){var b=Q._$C(a);return Y.loadMotion(b)},Y.loadMotion=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(a instanceof ArrayBuffer&&(a=new DataView(a)),b=new Y,c=[0],d=a.byteLength,b._$yT=0,e=0;d>e;++e)if(f=Z(a,e),g=f.charCodeAt(0),"\n"!=f&&"\r"!=f)if("#"!=f)if("$"!=f){if(g>=97&&122>=g||g>=65&&90>=g||"_"==f){for(h=e,i=-1;d>e&&"\r"!=(f=Z(a,e))&&"\n"!=f;++e)if("="==f){i=e;break}if(i>=0){for(j=new M,F.startsWith(a,h,Y._$cs)?(j._$RP=M._$hs,j._$4P=F.createString(a,h,i-h)):F.startsWith(a,h,Y._$ar)?(j._$4P=F.createString(a,h+7,i-h-7),F.startsWith(a,h+7,"ANCHOR_X")?j._$RP=M._$xs:F.startsWith(a,h+7,"ANCHOR_Y")?j._$RP=M._$us:F.startsWith(a,h+7,"SCALE_X")?j._$RP=M._$qs:F.startsWith(a,h+7,"SCALE_Y")?j._$RP=M._$Ys:F.startsWith(a,h+7,"X")?j._$RP=M._$ws:F.startsWith(a,h+7,"Y")&&(j._$RP=M._$Ns)):(j._$RP=M._$Fr,j._$4P=F.createString(a,h,i-h)),b.motions.push(j),k=0,l=[],e=i+1;d>e&&"\r"!=(f=Z(a,e))&&"\n"!=f;++e)if(","!=f&&" "!=f&&"	"!=f&&(m=F._$LS(a,d,e,c),c[0]>0)){if(l.push(m),k++,n=c[0],e>n){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}e=n-1}j._$I0=new Float32Array(l),k>b._$yT&&(b._$yT=k)}}}else{for(h=e,i=-1;d>e&&"\r"!=(f=Z(a,e))&&"\n"!=f;++e)if("="==f){i=e;break}if(o=!1,i>=0)for(i==h+4&&"f"==Z(a,h+1)&&"p"==Z(a,h+2)&&"s"==Z(a,h+3)&&(o=!0),e=i+1;d>e&&"\r"!=(f=Z(a,e))&&"\n"!=f;++e)","!=f&&" "!=f&&"	"!=f&&(m=F._$LS(a,d,e,c),c[0]>0&&o&&m>5&&121>m&&(b._$D0=m),e=c[0]);for(;d>e&&"\n"!=Z(a,e)&&"\r"!=Z(a,e);++e);}else for(;d>e&&"\n"!=Z(a,e)&&"\r"!=Z(a,e);++e);return b._$rr=0|1e3*b._$yT/b._$D0,b},Y.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},Y.prototype.getLoopDurationMSec=function(){return this._$rr},Y.prototype.dump=function(){var a,b,c;for(a=0;a<this.motions.length;a++){for(b=this.motions[a],console.log("_$wL[%s] [%d]. ",b._$4P,b._$I0.length),c=0;c<b._$I0.length&&10>c;c++)console.log("%5.2f ,",b._$I0[c]);console.log("\n")}},Y.prototype.updateParamExe=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(e=b-d._$z2,f=e*this._$D0/1e3,g=0|f,h=f-g,i=0;i<this.motions.length;i++)j=this.motions[i],k=j._$I0.length,l=j._$4P,j._$RP==M._$hs?(m=j._$I0[g>=k?k-1:g],a.setParamFloat(l,m)):M._$ws<=j._$RP&&j._$RP<=M._$Ys||(o=a.getParamIndex(l),p=a.getModelContext(),q=p.getParamMax(o),r=p.getParamMin(o),s=.4*(q-r),t=p.getParamFloat(o),u=j._$I0[g>=k?k-1:g],v=j._$I0[g+1>=k?k-1:g+1],n=v>u&&v-u>s||u>v&&u-v>s?u:u+(v-u)*h,w=t+(n-t)*c,a.setParamFloat(l,w));g>=this._$yT&&(this._$E?(d._$z2=b,this.loopFadeIn&&(d._$bs=b)):d._$9L=!0),this._$eP=c},Y.prototype._$r0=function(){return this._$E},Y.prototype._$aL=function(a){this._$E=a},Y.prototype._$S0=function(){return this._$D0},Y.prototype._$U0=function(a){this._$D0=a},Y.prototype.isLoopFadeIn=function(){return this.loopFadeIn},Y.prototype.setLoopFadeIn=function(a){this.loopFadeIn=a},L.prototype.clear=function(){this.size=0},L.prototype.add=function(a){if(this._$P.length<=this.size){var b=new Float32Array(2*this.size);D._$jT(this._$P,0,b,0,this.size),this._$P=b}this._$P[this.size++]=a},L.prototype._$BL=function(){var a=new Float32Array(this.size);return D._$jT(this._$P,0,a,0,this.size),a},M._$Fr=0,M._$hs=1,M._$ws=100,M._$Ns=101,M._$xs=102,M._$us=103,M._$qs=104,M._$Ys=105,$.prototype=new C,$._$gT=new Array,$.prototype._$zP=function(){this._$GS=new G,this._$GS._$zP()},$.prototype._$F0=function(a){C.prototype._$F0.call(this,a),this._$A=a._$6L(),this._$o=a._$6L(),this._$GS=a._$nP(),this._$Eo=a._$nP(),C.prototype.readV2_opacity.call(this,a)},$.prototype.init=function(){var b=new _(this),c=(this._$o+1)*(this._$A+1);return null!=b._$Cr&&(b._$Cr=null),b._$Cr=new Float32Array(2*c),null!=b._$hr&&(b._$hr=null),b._$hr=this._$32()?new Float32Array(2*c):null,b},$.prototype._$Nr=function(a,b){var d,e,c=b;this._$GS._$Ur(a)&&(d=this._$VT(),e=$._$gT,e[0]=!1,x._$Vr(a,this._$GS,e,d,this._$Eo,c._$Cr,0,2),b._$Ib(e[0]),this.interpolateOpacity(a,this._$GS,b,e))},$.prototype._$2b=function(a,b){var d,e,f,g,i,c=b;c._$hS(!0),this._$32()?(d=this.getTargetBaseDataID(),c._$8r==C._$ur&&(c._$8r=a.getBaseDataIndex(d)),c._$8r<0?(ib._$so&&h._$li("_$L _$0P _$G :: %s",d),c._$hS(!1)):(e=a.getBaseData(c._$8r),f=a._$q2(c._$8r),null!=e&&f._$yo()?(g=f.getTotalScale(),c.setTotalScale_notForClient(g),i=f.getTotalOpacity(),c.setTotalOpacity(i*c.getInterpolatedOpacity()),e._$nb(a,f,c._$Cr,c._$hr,this._$VT(),0,2),c._$hS(!0)):c._$hS(!1))):c.setTotalOpacity(c.getInterpolatedOpacity())},$.prototype._$nb=function(a,b,c,d,e,f,g){var h=b,i=null!=h._$hr?h._$hr:h._$Cr;$.transformPoints_sdk2(c,d,e,f,g,i,this._$o,this._$A)},$.transformPoints_sdk2=function(b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T;for(m=d*f,n=0,o=0,p=0,q=0,r=0,s=0,t=!1,u=e;m>u;u+=f)x=b[u],y=b[u+1],v=x*h,w=y*i,0>v||0>w||v>=h||w>=i?(z=h+1,t||(t=!0,n=.25*(g[2*(0+0*z)]+g[2*(h+0*z)]+g[2*(0+i*z)]+g[2*(h+i*z)]),o=.25*(g[2*(0+0*z)+1]+g[2*(h+0*z)+1]+g[2*(0+i*z)+1]+g[2*(h+i*z)+1]),A=g[2*(h+i*z)]-g[2*(0+0*z)],B=g[2*(h+i*z)+1]-g[2*(0+0*z)+1],C=g[2*(h+0*z)]-g[2*(0+i*z)],D=g[2*(h+0*z)+1]-g[2*(0+i*z)+1],p=.5*(A+C),q=.5*(B+D),r=.5*(A-C),s=.5*(B-D),n-=.5*(p+r),o-=.5*(q+s)),x>-2&&3>x&&y>-2&&3>y?0>=x?0>=y?(E=g[2*(0+0*z)],F=g[2*(0+0*z)+1],G=n-2*p,H=o-2*q,I=n-2*r,J=o-2*s,K=n-2*p-2*r,L=o-2*q-2*s,M=.5*(x- -2),N=.5*(y- -2),1>=M+N?(c[u]=K+(I-K)*M+(G-K)*N,c[u+1]=L+(J-L)*M+(H-L)*N):(c[u]=E+(G-E)*(1-M)+(I-E)*(1-N),c[u+1]=F+(H-F)*(1-M)+(J-F)*(1-N))):y>=1?(I=g[2*(0+i*z)],J=g[2*(0+i*z)+1],K=n-2*p+1*r,L=o-2*q+1*s,E=n+3*r,F=o+3*s,G=n-2*p+3*r,H=o-2*q+3*s,M=.5*(x- -2),N=.5*(y-1),1>=M+N?(c[u]=K+(I-K)*M+(G-K)*N,c[u+1]=L+(J-L)*M+(H-L)*N):(c[u]=E+(G-E)*(1-M)+(I-E)*(1-N),c[u+1]=F+(H-F)*(1-M)+(J-F)*(1-N))):(O=0|w,O==i&&(O=i-1),M=.5*(x- -2),N=w-O,P=O/i,Q=(O+1)/i,I=g[2*(0+O*z)],J=g[2*(0+O*z)+1],E=g[2*(0+(O+1)*z)],F=g[2*(0+(O+1)*z)+1],K=n-2*p+P*r,L=o-2*q+P*s,G=n-2*p+Q*r,H=o-2*q+Q*s,1>=M+N?(c[u]=K+(I-K)*M+(G-K)*N,c[u+1]=L+(J-L)*M+(H-L)*N):(c[u]=E+(G-E)*(1-M)+(I-E)*(1-N),c[u+1]=F+(H-F)*(1-M)+(J-F)*(1-N))):x>=1?0>=y?(G=g[2*(h+0*z)],H=g[2*(h+0*z)+1],E=n+3*p,F=o+3*q,K=n+1*p-2*r,L=o+1*q-2*s,I=n+3*p-2*r,J=o+3*q-2*s,M=.5*(x-1),N=.5*(y- -2),1>=M+N?(c[u]=K+(I-K)*M+(G-K)*N,c[u+1]=L+(J-L)*M+(H-L)*N):(c[u]=E+(G-E)*(1-M)+(I-E)*(1-N),c[u+1]=F+(H-F)*(1-M)+(J-F)*(1-N))):y>=1?(K=g[2*(h+i*z)],L=g[2*(h+i*z)+1],I=n+3*p+1*r,J=o+3*q+1*s,G=n+1*p+3*r,H=o+1*q+3*s,E=n+3*p+3*r,F=o+3*q+3*s,M=.5*(x-1),N=.5*(y-1),1>=M+N?(c[u]=K+(I-K)*M+(G-K)*N,c[u+1]=L+(J-L)*M+(H-L)*N):(c[u]=E+(G-E)*(1-M)+(I-E)*(1-N),c[u+1]=F+(H-F)*(1-M)+(J-F)*(1-N))):(O=0|w,O==i&&(O=i-1),M=.5*(x-1),N=w-O,P=O/i,Q=(O+1)/i,K=g[2*(h+O*z)],L=g[2*(h+O*z)+1],G=g[2*(h+(O+1)*z)],H=g[2*(h+(O+1)*z)+1],I=n+3*p+P*r,J=o+3*q+P*s,E=n+3*p+Q*r,F=o+3*q+Q*s,1>=M+N?(c[u]=K+(I-K)*M+(G-K)*N,c[u+1]=L+(J-L)*M+(H-L)*N):(c[u]=E+(G-E)*(1-M)+(I-E)*(1-N),c[u+1]=F+(H-F)*(1-M)+(J-F)*(1-N))):0>=y?(R=0|v,R==h&&(R=h-1),M=v-R,N=.5*(y- -2),S=R/h,T=(R+1)/h,G=g[2*(R+0*z)],H=g[2*(R+0*z)+1],E=g[2*(R+1+0*z)],F=g[2*(R+1+0*z)+1],K=n+S*p-2*r,L=o+S*q-2*s,I=n+T*p-2*r,J=o+T*q-2*s,1>=M+N?(c[u]=K+(I-K)*M+(G-K)*N,c[u+1]=L+(J-L)*M+(H-L)*N):(c[u]=E+(G-E)*(1-M)+(I-E)*(1-N),c[u+1]=F+(H-F)*(1-M)+(J-F)*(1-N))):y>=1?(R=0|v,R==h&&(R=h-1),M=v-R,N=.5*(y-1),S=R/h,T=(R+1)/h,K=g[2*(R+i*z)],L=g[2*(R+i*z)+1],I=g[2*(R+1+i*z)],J=g[2*(R+1+i*z)+1],G=n+S*p+3*r,H=o+S*q+3*s,E=n+T*p+3*r,F=o+T*q+3*s,1>=M+N?(c[u]=K+(I-K)*M+(G-K)*N,c[u+1]=L+(J-L)*M+(H-L)*N):(c[u]=E+(G-E)*(1-M)+(I-E)*(1-N),c[u+1]=F+(H-F)*(1-M)+(J-F)*(1-N))):a.err.printf("_$li calc : %.4f , %.4f					@@BDBoxGrid\n",x,y):(c[u]=n+x*p+y*r,c[u+1]=o+x*q+y*s)):(k=v-(0|v),l=w-(0|w),j=2*((0|v)+(0|w)*(h+1)),1>k+l?(c[u]=g[j]*(1-k-l)+g[j+2]*k+g[j+2*(h+1)]*l,c[u+1]=g[j+1]*(1-k-l)+g[j+3]*k+g[j+2*(h+1)+1]*l):(c[u]=g[j+2*(h+1)+2]*(k-1+l)+g[j+2*(h+1)]*(1-k)+g[j+2]*(1-l),c[u+1]=g[j+2*(h+1)+3]*(k-1+l)+g[j+2*(h+1)+1]*(1-k)+g[j+3]*(1-l)))
},$.prototype.transformPoints_sdk1=function(a,b,c,d,e,f,g){for(var h,i,j,k,l,m,n,o=b,p=this._$o,q=this._$A,r=e*g,s=null!=o._$hr?o._$hr:o._$Cr,t=f;r>t;t+=g)ib._$ts?(h=c[t],i=c[t+1],0>h?h=0:h>1&&(h=1),0>i?i=0:i>1&&(i=1),h*=p,i*=q,j=0|h,k=0|i,j>p-1&&(j=p-1),k>q-1&&(k=q-1),m=h-j,n=i-k,l=2*(j+k*(p+1))):(h=c[t]*p,i=c[t+1]*q,m=h-(0|h),n=i-(0|i),l=2*((0|h)+(0|i)*(p+1))),1>m+n?(d[t]=s[l]*(1-m-n)+s[l+2]*m+s[l+2*(p+1)]*n,d[t+1]=s[l+1]*(1-m-n)+s[l+3]*m+s[l+2*(p+1)+1]*n):(d[t]=s[l+2*(p+1)+2]*(m-1+n)+s[l+2*(p+1)]*(1-m)+s[l+2]*(1-n),d[t+1]=s[l+2*(p+1)+3]*(m-1+n)+s[l+2*(p+1)+1]*(1-m)+s[l+3]*(1-n))},$.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},$.prototype.getType=function(){return C._$_b},_.prototype=new hb,ab._$42=0,ab.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},ab.prototype._$F0=function(a){this._$g0=a._$8L(),this.visible=a._$8L(),this._$NL=a._$nP(),this._$3S=a._$nP(),this._$aS=a._$nP()},ab.prototype.init=function(){var b=new bb(this);return b.setPartsOpacity(this.isVisible()?1:0),b},ab.prototype._$6o=function(a){if(null==this._$3S)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(a)},ab.prototype._$3o=function(a){if(null==this._$aS)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(a)},ab.prototype._$Zo=function(a){this._$3S=a},ab.prototype._$xo=function(a){this._$aS=a},ab.prototype.isVisible=function(){return this.visible},ab.prototype._$uL=function(){return this._$g0},ab.prototype._$KP=function(a){this.visible=a},ab.prototype._$ET=function(a){this._$g0=a},ab.prototype.getBaseData=function(){return this._$3S},ab.prototype.getDrawData=function(){return this._$aS},ab.prototype._$p2=function(){return this._$NL},ab.prototype._$ob=function(a){this._$NL=a},ab.prototype.getPartsID=function(){return this._$NL},ab.prototype._$MP=function(a){this._$NL=a},bb.prototype=new l,bb.prototype.getPartsOpacity=function(){return this._$VS},bb.prototype.setPartsOpacity=function(a){this._$VS=a},cb._$L7=function(){n._$27(),sb._$27(),I._$27(),k._$27()},cb.prototype.toString=function(){return this.id},db.prototype._$F0=function(){},eb.prototype._$1s=function(){return this._$4S},eb.prototype._$zP=function(){this._$4S=new Array},eb.prototype._$F0=function(a){this._$4S=a._$nP()},eb.prototype._$Ks=function(a){this._$4S.push(a)},fb.tr=new rb,fb._$50=new rb,fb._$Ti=new Array(0,0),fb._$Pi=new Array(0,0),fb._$B=new Array(0,0),fb.prototype._$lP=function(a,b,c,d){this.viewport=new Array(a,b,c,d)},fb.prototype._$bL=function(){this.context.save();var a=this.viewport;null!=a&&(this.context.beginPath(),this.context._$Li(a[0],a[1],a[2],a[3]),this.context.clip())},fb.prototype._$ei=function(){this.context.restore()},fb.prototype.drawElements=function(a,b,c,d,e,f,g,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db;try{for(e!=this._$Qo&&(this._$Qo=e,this.context.globalAlpha=e),j=b.length,k=a.width,l=a.height,m=this.context,n=this._$xP,o=this._$uP,p=this._$6r,q=this._$3r,r=fb.tr,s=fb._$Ti,t=fb._$Pi,u=fb._$B,v=0;j>v;v+=3)m.save(),w=b[v],x=b[v+1],y=b[v+2],z=n+p*c[2*w],A=o+q*c[2*w+1],B=n+p*c[2*x],C=o+q*c[2*x+1],D=n+p*c[2*y],E=o+q*c[2*y+1],g&&(g._$PS(z,A,u),z=u[0],A=u[1],g._$PS(B,C,u),B=u[0],C=u[1],g._$PS(D,E,u),D=u[0],E=u[1]),F=k*d[2*w],G=l-l*d[2*w+1],H=k*d[2*x],I=l-l*d[2*x+1],J=k*d[2*y],K=l-l*d[2*y+1],L=Math.atan2(I-G,H-F),M=Math.atan2(C-A,B-z),N=B-z,O=C-A,P=Math.sqrt(N*N+O*O),Q=H-F,R=I-G,S=Math.sqrt(Q*Q+R*R),T=P/S,Cb._$ni(J,K,F,G,H-F,I-G,-(I-G),H-F,s),Cb._$ni(D,E,z,A,B-z,C-A,-(C-A),B-z,t),U=(t[0]-s[0])/s[1],V=Math.min(F,H,J),W=Math.max(F,H,J),X=Math.min(G,I,K),Y=Math.max(G,I,K),Z=Math.floor(V),$=Math.floor(X),_=Math.ceil(W),ab=Math.ceil(Y),r.identity(),r.translate(z,A),r.rotate(M),r.scale(1,t[1]/s[1]),r.shear(U,0),r.scale(T,T),r.rotate(-L),r.translate(-F,-G),r.setContext(m),f||(f=1.2),ib.IGNORE_EXPAND&&(f=0),ib.USE_CACHED_POLYGON_IMAGE?(bb=i._$e0,bb.gl_cacheImage=bb.gl_cacheImage||{},bb.gl_cacheImage[v]||(cb=fb.createCanvas(_-Z,ab-$),ib.DEBUG_DATA.LDGL_CANVAS_MB=ib.DEBUG_DATA.LDGL_CANVAS_MB||0,ib.DEBUG_DATA.LDGL_CANVAS_MB+=4*(_-Z)*(ab-$),db=cb.getContext("2d"),db.translate(-Z,-$),fb.clip(db,r,f,P,F,G,H,I,J,K,z,A,B,C,D,E),db.drawImage(a,0,0),bb.gl_cacheImage[v]={cacheCanvas:cb,cacheContext:db}),m.drawImage(bb.gl_cacheImage[v].cacheCanvas,Z,$)):(ib.IGNORE_CLIP||fb.clip(m,r,f,P,F,G,H,I,J,K,z,A,B,C,D,E),ib.USE_ADJUST_TRANSLATION&&(V=0,W=k,X=0,Y=l),m.drawImage(a,V,X,W-V,Y-X,V,X,W-V,Y-X)),m.restore()}catch(a){h._$Rb(a)}},fb.clip=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){c>.02?fb.expandClip(a,b,c,d,k,l,m,n,o,p):fb.clipWithTransform(a,null,e,f,g,h,i,j)},fb.expandClip=function(a,b,c,d,e,f,g,h,i,j){var k=g-e,l=h-f,m=i-e,n=j-f,o=k*n-l*m>0?c:-c,p=-l,q=k,r=i-g,s=j-h,t=-s,u=r,v=Math.sqrt(r*r+s*s),w=-n,x=m,y=Math.sqrt(m*m+n*n),z=e-o*p/d,A=f-o*q/d,B=g-o*p/d,C=h-o*q/d,D=g-o*t/v,E=h-o*u/v,F=i-o*t/v,G=j-o*u/v,H=e+o*w/y,I=f+o*x/y,J=i+o*w/y,K=j+o*x/y,L=fb._$50;return null!=b._$P2(L)&&(fb.clipWithTransform(a,L,z,A,B,C,D,E,F,G,J,K,H,I),!0)},fb.clipWithTransform=function(a,b){var j,k,l,m;if(arguments.length<7)return void h._$li("err : @LDGL.clip()");if(!(arguments[1]instanceof rb))return void h._$li("err : a[0] is _$6 LDTransform @LDGL.clip()");if(j=fb._$B,k=b,l=arguments,a.beginPath(),k)for(k._$PS(l[2],l[3],j),a.moveTo(j[0],j[1]),m=4;m<l.length;m+=2)k._$PS(l[m],l[m+1],j),a.lineTo(j[0],j[1]);else for(a.moveTo(l[2],l[3]),m=4;m<l.length;m+=2)a.lineTo(l[m],l[m+1]);a.clip()},fb.createCanvas=function(a,b){var c=document.createElement("canvas");return c.setAttribute("width",a),c.setAttribute("height",b),c||h._$li("err : "+c),c},fb.dumpValues=function(){for(var a="",b=0;b<arguments.length;b++)a+="["+b+"]= "+arguments[b].toFixed(3)+" , ";console.log(a)},gb.prototype._$F0=function(a){this._$TT=a._$_T(),this._$LT=a._$_T(),this._$FS=a._$_T(),this._$wL=a._$nP()},gb.prototype.getMinValue=function(){return this._$TT},gb.prototype.getMaxValue=function(){return this._$LT},gb.prototype.getDefaultValue=function(){return this._$FS},gb.prototype.getParamID=function(){return this._$wL},hb.prototype._$yo=function(){return this._$AT&&!this._$JS},hb.prototype._$hS=function(a){this._$AT=a},hb.prototype._$GT=function(){return this._$e0},hb.prototype._$l2=function(a){this._$IP=a},hb.prototype.getPartsIndex=function(){return this._$IP},hb.prototype._$x2=function(){return this._$JS},hb.prototype._$Ib=function(a){this._$JS=a},hb.prototype.getTotalScale=function(){return this.totalScale},hb.prototype.setTotalScale_notForClient=function(a){this.totalScale=a},hb.prototype.getInterpolatedOpacity=function(){return this._$7s},hb.prototype.setInterpolatedOpacity=function(a){this._$7s=a},hb.prototype.getTotalOpacity=function(){return this.totalOpacity},hb.prototype.setTotalOpacity=function(a){this.totalOpacity=a},ib._$2s="2.1.00_1",ib._$Kr=201001e3,ib._$sP=!0,ib._$so=!0,ib._$cb=!1,ib._$3T=!0,ib._$Ts=!0,ib._$fb=!0,ib._$ts=!0,ib.L2D_DEFORMER_EXTEND=!0,ib._$Wb=!1,ib._$yr=!1,ib._$Zs=!1,ib.L2D_NO_ERROR=0,ib._$i7=1e3,ib._$9s=1001,ib._$es=1100,ib._$r7=2e3,ib._$07=2001,ib._$b7=2002,ib._$H7=4e3,ib.L2D_COLOR_BLEND_MODE_MULT=0,ib.L2D_COLOR_BLEND_MODE_ADD=1,ib.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,ib._$6b=!0,ib._$cT=0,ib.clippingMaskBufferSize=256,ib.glContext=new Array,ib.frameBuffers=new Array,ib.fTexture=new Array,ib.IGNORE_CLIP=!1,ib.IGNORE_EXPAND=!1,ib.EXPAND_W=2,ib.USE_ADJUST_TRANSLATION=!0,ib.USE_CANVAS_TRANSFORM=!0,ib.USE_CACHED_POLYGON_IMAGE=!1,ib.DEBUG_DATA={},ib.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},ib.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},ib.PROFILE_IOS_DEFAULT=ib.PROFILE_IOS_QUALITY,ib.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},ib.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},ib.initProfile=function(){Ab.isIOS()?ib.setupProfile(ib.PROFILE_IOS_DEFAULT):Ab.isAndroid()?ib.setupProfile(ib.PROFILE_ANDROID):ib.setupProfile(ib.PROFILE_DESKTOP)},ib.setupProfile=function(a){if("number"==typeof a)switch(a){case 9901:a=ib.PROFILE_IOS_SPEED;break;case 9902:a=ib.PROFILE_IOS_QUALITY;break;case 9903:a=ib.PROFILE_IOS_DEFAULT;break;case 9904:a=ib.PROFILE_ANDROID;break;case 9905:a=ib.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+a)}},ib.init=function(){ib._$6b&&ib.initProfile()},ib.getVersionStr=function(){return ib._$2s},ib.getVersionNo=function(){return ib._$Kr},ib._$sT=function(a){ib._$cT=a},ib.getError=function(){var a=ib._$cT;return ib._$cT=0,a},ib.dispose=function(){ib.glContext=[],ib.frameBuffers=[],ib.fTexture=[]},ib.setGL=function(a,b){var c=b||0;ib.glContext[c]=a},ib.getGL=function(a){return ib.glContext[a]},ib.setClippingMaskBufferSize=function(a){ib.clippingMaskBufferSize=a},ib.getClippingMaskBufferSize=function(){return ib.clippingMaskBufferSize},ib.deleteBuffer=function(a){ib.getGL(a).deleteFramebuffer(ib.frameBuffers[a].framebuffer),delete ib.frameBuffers[a],delete ib.glContext[a]},jb._$r2=function(a){return 0>a?0:a>1?1:.5-.5*Math.cos(a*yb.PI_F)},kb._$fr=-1,kb.prototype.toString=function(){return this._$ib},lb.prototype=new V,lb._$42=0,lb._$Os=30,lb._$ms=0,lb._$ns=1,lb._$_s=2,lb._$gT=new Array,lb.prototype._$_S=function(a){this._$LP=a},lb.prototype.getTextureNo=function(){return this._$LP},lb.prototype._$ZL=function(){return this._$Qi},lb.prototype._$H2=function(){return this._$JP},lb.prototype.getNumPoints=function(){return this._$d0},lb.prototype.getType=function(){return V._$wb},lb.prototype._$B2=function(a,b,c){var f,d=b,e=null!=d._$hr?d._$hr:d._$Cr;switch(N._$do){default:case N._$Ms:throw new Error("_$L _$ro ");case N._$Qs:for(f=this._$d0-1;f>=0;--f)e[f*N._$No+4]=c}},lb.prototype._$zP=function(){this._$GS=new G,this._$GS._$zP()},lb.prototype._$F0=function(a){var b,c,d;for(V.prototype._$F0.call(this,a),this._$LP=a._$6L(),this._$d0=a._$6L(),this._$Yo=a._$6L(),b=a._$nP(),this._$BP=new Int16Array(3*this._$Yo),c=3*this._$Yo-1;c>=0;--c)this._$BP[c]=b[c];this._$Eo=a._$nP(),this._$Qi=a._$nP(),a.getFormatVersion()>=O._$s7?(this._$JP=a._$6L(),0!=this._$JP&&(0!=(1&this._$JP)&&(d=a._$6L(),null==this._$5P&&(this._$5P=new Object),this._$5P._$Hb=parseInt(d)),this._$6s=0!=(this._$JP&lb._$Os)?(this._$JP&lb._$Os)>>1:lb._$ms,0!=(32&this._$JP)&&(this.culling=!1))):this._$JP=0},lb.prototype.init=function(){var e,f,g,h,i,b=new mb(this),c=this._$d0*N._$No,d=this._$32();switch(null!=b._$Cr&&(b._$Cr=null),b._$Cr=new Float32Array(c),null!=b._$hr&&(b._$hr=null),b._$hr=d?new Float32Array(c):null,N._$do){default:case N._$Ms:if(N._$Ls)for(e=this._$d0-1;e>=0;--e)f=e<<1,this._$Qi[f+1]=1-this._$Qi[f+1];break;case N._$Qs:for(e=this._$d0-1;e>=0;--e)f=e<<1,g=e*N._$No,h=this._$Qi[f],i=this._$Qi[f+1],b._$Cr[g]=h,b._$Cr[g+1]=i,b._$Cr[g+4]=0,d&&(b._$hr[g]=h,b._$hr[g+1]=i,b._$hr[g+4]=0)}return b},lb.prototype._$Nr=function(a,b){var d,c=b;this!=c._$GT()&&console.log("### assert!! ### "),this._$GS._$Ur(a)&&(V.prototype._$Nr.call(this,a,c),!c._$IS[0])&&(d=lb._$gT,d[0]=!1,x._$Vr(a,this._$GS,d,this._$d0,this._$Eo,c._$Cr,N._$i2,N._$No))},lb.prototype._$2b=function(a,b){var c,d,e,f,g;try{this!=b._$GT()&&console.log("### assert!! ### "),c=!1,b._$IS[0]&&(c=!0),d=b,!c&&(V.prototype._$2b.call(this,a),this._$32())&&(e=this.getTargetBaseDataID(),d._$8r==V._$ur&&(d._$8r=a.getBaseDataIndex(e)),d._$8r<0?ib._$so&&h._$li("_$L _$0P _$G :: %s",e):(f=a.getBaseData(d._$8r),g=a._$q2(d._$8r),null==f||g._$x2()?d._$AT=!1:(f._$nb(a,g,d._$Cr,d._$hr,this._$d0,N._$i2,N._$No),d._$AT=!0),d.baseOpacity=g.getTotalOpacity()))}catch(a){throw a}},lb.prototype.draw=function(a,b,c){var d,e,f,g;this!=c._$GT()&&console.log("### assert!! ### "),c._$IS[0]||(d=c,e=this._$LP,0>e&&(e=1),f=this.getOpacity(b,d)*c._$VS*c.baseOpacity,g=null!=d._$hr?d._$hr:d._$Cr,a.setClipBufPre_clipContextForDraw(c.clipBufPre_clipContext),a._$WP(this.culling),a._$Uo(e,3*this._$Yo,this._$BP,g,this._$Qi,f,this._$6s,d))},lb.prototype.dump=function(){var a,b,c;for(console.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \n",this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { "),a=0;a<this._$BP.length;a++)console.log("%5d ,",this._$BP[a]);for(console.log("\n  _$5i _$30"),a=0;a<this._$Eo.length;a++)for(console.log("\n    _$30[%d] = ",a),b=this._$Eo[a],c=0;c<b.length;c++)console.log("%6.2f, ",b[c]);console.log("\n")},lb.prototype._$72=function(a){return null==this._$5P?null:this._$5P[a]},lb.prototype.getIndexArray=function(){return this._$BP},mb.prototype=new zb,mb.prototype.getTransformedPoints=function(){return null!=this._$hr?this._$hr:this._$Cr},nb.prototype._$HT=function(a){this.x=a.x,this.y=a.y},nb.prototype._$HT=function(a,b){this.x=a,this.y=b},ob.prototype=new b,ob.loadModel=function(a){var c=new ob;return b._$62(c,a),c},ob.loadModel=function(a,c){var d=c||0,e=new ob(d);return b._$62(e,a),e},ob._$to=function(){return new ob},ob._$er=function(a){var c,d,e,f,b=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==b.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+b._$PL());for(c=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],d=ob.loadModel(b._$3b()),e=0;e<c.length;e++){if(f=new _$5(c[e]),0==f.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+f._$PL());d.setTexture(e,_$nL._$_o(a,f._$3b()))}return d},ob.prototype.setGL=function(a){ib.setGL(a)},ob.prototype.setTransform=function(a){this.drawParamWebGL.setTransform(a)},ob.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},ob.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},ob.prototype._$K2=function(){this.drawParamWebGL._$K2()},ob.prototype.setTexture=function(a,b){null==this.drawParamWebGL&&h._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(a,b)},ob.prototype.setTexture=function(a,b){null==this.drawParamWebGL&&h._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(a,b)},ob.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},ob.prototype._$Ds=function(a){this.drawParamWebGL._$Ds(a)},ob.prototype.getDrawParam=function(){return this.drawParamWebGL},ob.prototype.setMatrix=function(a){this.drawParamWebGL.setMatrix(a)},ob.prototype.setPremultipliedAlpha=function(a){this.drawParamWebGL.setPremultipliedAlpha(a)},ob.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},ob.prototype.setAnisotropy=function(a){this.drawParamWebGL.setAnisotropy(a)},ob.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()},pb.prototype._$tb=function(){return this.motions},pb.prototype.startMotion=function(a){var c,d,e,f;for(c=null,d=this.motions.length,e=0;d>e;++e)null!=(c=this.motions[e])&&(c._$qS(c._$w0.getFadeOut()),this._$eb&&h._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\n",d,c._$sr));return null==a?-1:(c=new qb,c._$w0=a,this.motions.push(c),f=c._$sr,this._$eb&&h._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\n",d,f),f)},pb.prototype.updateParam=function(a){var b,c,d,e;try{for(b=!1,c=0;c<this.motions.length;c++)d=this.motions[c],null!=d?(e=d._$w0,null!=e?(e.updateParam(a,d),b=!0,d.isFinished()&&(this._$eb&&h._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\n",this.motions.length-1,d._$sr),this.motions.splice(c,1),c--)):(this.motions=this.motions.splice(c,1),c--)):(this.motions.splice(c,1),c--);return b}catch(a){return h._$li(a),!0}},pb.prototype.isFinished=function(a){var b,c;if(arguments.length>=1){for(b=0;b<this.motions.length;b++)if(c=this.motions[b],null!=c&&c._$sr==a&&!c.isFinished())return!1;return!0}for(b=0;b<this.motions.length;b++)if(c=this.motions[b],null!=c)if(null!=c._$w0){if(!c.isFinished())return!1}else this.motions.splice(b,1),b--;else this.motions.splice(b,1),b--;return!0},pb.prototype.stopAllMotions=function(){var a,b;for(a=0;a<this.motions.length;a++)b=this.motions[a],null!=b?(b._$w0,this.motions.splice(a,1),a--):(this.motions.splice(a,1),a--)},pb.prototype._$Zr=function(a){this._$eb=a},pb.prototype._$e=function(){var a,b,c;for(console.log("-- _$R --\n"),a=0;a<this.motions.length;a++)b=this.motions[a],c=b._$w0,console.log("MotionQueueEnt[%d] :: %s\n",this.motions.length,c.toString())},qb._$Gs=0,qb.prototype.isFinished=function(){return this._$9L},qb.prototype._$qS=function(a){var b=D.getUserTimeMSec(),c=b+a;(this._$Do<0||c<this._$Do)&&(this._$Do=c)},qb.prototype._$Bs=function(){return this._$sr},rb.prototype.setContext=function(a){var b=this.m;a.transform(b[0],b[1],b[3],b[4],b[6],b[7])},rb.prototype.toString=function(){for(var a="LDTransform { ",b=0;9>b;b++)a+=this.m[b].toFixed(2)+" ,";return a+=" }"},rb.prototype.identity=function(){var a=this.m;a[0]=a[4]=a[8]=1,a[1]=a[2]=a[3]=a[5]=a[6]=a[7]=0},rb.prototype._$PS=function(a,b,c){null==c&&(c=new Array(0,0));var d=this.m;return c[0]=d[0]*a+d[3]*b+d[6],c[1]=d[1]*a+d[4]*b+d[7],c},rb.prototype._$P2=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;return a||(a=new rb),b=this.m,c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=c*g*k+d*h*i+e*f*j-c*h*j-e*g*i-d*f*k,0==l?null:(m=1/l,a.m[0]=m*(g*k-j*h),a.m[1]=m*(j*e-d*k),a.m[2]=m*(d*h-g*e),a.m[3]=m*(i*h-f*k),a.m[4]=m*(c*k-i*e),a.m[5]=m*(f*e-c*h),a.m[6]=m*(f*j-i*g),a.m[7]=m*(i*d-c*j),a.m[8]=m*(c*g-f*d),a)},rb.prototype.transform=function(a,b,c){null==c&&(c=new Array(0,0));var d=this.m;return c[0]=d[0]*a+d[3]*b+d[6],c[1]=d[1]*a+d[4]*b+d[7],c},rb.prototype.translate=function(a,b){var c=this.m;c[6]=c[0]*a+c[3]*b+c[6],c[7]=c[1]*a+c[4]*b+c[7],c[8]=c[2]*a+c[5]*b+c[8]},rb.prototype.scale=function(a,b){var c=this.m;c[0]*=a,c[1]*=a,c[2]*=a,c[3]*=b,c[4]*=b,c[5]*=b},rb.prototype.shear=function(a,b){var c=this.m,d=c[0]+c[3]*b,e=c[1]+c[4]*b,f=c[2]+c[5]*b;c[3]=c[0]*a+c[3],c[4]=c[1]*a+c[4],c[5]=c[2]*a+c[5],c[0]=d,c[1]=e,c[2]=f},rb.prototype.rotate=function(a){var b=this.m,c=Math.cos(a),d=Math.sin(a),e=b[0]*c+b[3]*d,f=b[1]*c+b[4]*d,g=b[2]*c+b[5]*d;b[3]=-b[0]*d+b[3]*c,b[4]=-b[1]*d+b[4]*c,b[5]=-b[2]*d+b[5]*c,b[0]=e,b[1]=f,b[2]=g},rb.prototype.concatenate=function(a){var b=this.m,c=a.m,d=b[0]*c[0]+b[3]*c[1]+b[6]*c[2],e=b[1]*c[0]+b[4]*c[1]+b[7]*c[2],f=b[2]*c[0]+b[5]*c[1]+b[8]*c[2],g=b[0]*c[3]+b[3]*c[4]+b[6]*c[5],h=b[1]*c[3]+b[4]*c[4]+b[7]*c[5],i=b[2]*c[3]+b[5]*c[4]+b[8]*c[5],j=b[0]*c[6]+b[3]*c[7]+b[6]*c[8],k=b[1]*c[6]+b[4]*c[7]+b[7]*c[8],l=b[2]*c[6]+b[5]*c[7]+b[8]*c[8];m[0]=d,m[1]=e,m[2]=f,m[3]=g,m[4]=h,m[5]=i,m[6]=j,m[7]=k,m[8]=l},sb.prototype=new cb,sb._$eT=null,sb._$tP=new Object,sb._$2o=function(){return null==sb._$eT&&(sb._$eT=sb.getID("DST_BASE")),sb._$eT},sb._$27=function(){sb._$tP.clear(),sb._$eT=null},sb.getID=function(a){var b=sb._$tP[a];return null==b&&(b=new sb(a),sb._$tP[a]=b),b},sb.prototype._$3s=function(){return new sb},tb.prototype=new A,tb._$9r=function(a){return new Float32Array(a)},tb._$vb=function(a){return new Int16Array(a)},tb._$cr=function(a,b){return null==a||a._$yL()<b.length?(a=tb._$9r(2*b.length),a.put(b),a._$oT(0)):(a.clear(),a.put(b),a._$oT(0)),a},tb._$mb=function(a,b){return null==a||a._$yL()<b.length?(a=tb._$vb(2*b.length),a.put(b),a._$oT(0)):(a.clear(),a.put(b),a._$oT(0)),a},tb._$Hs=function(){return this._$Gr},tb._$as=function(a){this._$Gr=a},tb.prototype.getGL=function(){return this.gl},tb.prototype.setGL=function(a){this.gl=a},tb.prototype.setTransform=function(a){this.transform=a},tb.prototype._$ZT=function(){var a=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=a.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),a.disable(a.SCISSOR_TEST),a.disable(a.STENCIL_TEST),a.disable(a.DEPTH_TEST),a.frontFace(a.CW),a.enable(a.BLEND),a.colorMask(1,1,1,1),a.bindBuffer(a.ARRAY_BUFFER,null),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null)},tb.prototype._$Uo=function(a,b,c,d,e,f,g){var i,j,k,l,m,n,o,p,q,r,s,t,u;if(!(.01>f&&null==this.clipBufPre_clipContextMask)){if(f>.9&&ib.EXPAND_W,i=this.gl,null==this.gl)throw new Error("gl is null");if(j=1*this._$C0*f,k=1*this._$tT*f,l=1*this._$WL*f,m=this._$lT*f,null!=this.clipBufPre_clipContextMask?(i.frontFace(i.CCW),i.useProgram(this.shaderProgram),this._$vS=ub(i,this._$vS,d),this._$no=vb(i,this._$no,c),i.enableVertexAttribArray(this.a_position_Loc),i.vertexAttribPointer(this.a_position_Loc,2,i.FLOAT,!1,0,0),this._$NT=ub(i,this._$NT,e),i.activeTexture(i.TEXTURE1),i.bindTexture(i.TEXTURE_2D,this.textures[a]),i.uniform1i(this.s_texture0_Loc,1),i.enableVertexAttribArray(this.a_texCoord_Loc),i.vertexAttribPointer(this.a_texCoord_Loc,2,i.FLOAT,!1,0,0),i.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask),n=this.getClipBufPre_clipContextMask().layoutChannelNo,o=this.getChannelFlagAsColor(n),i.uniform4f(this.u_channelFlag,o.r,o.g,o.b,o.a),p=this.getClipBufPre_clipContextMask().layoutBounds,i.uniform4f(this.u_baseColor_Loc,2*p.x-1,2*p.y-1,2*p._$EL()-1,2*p._$5T()-1),i.uniform1i(this.u_maskFlag_Loc,!0)):null!=this.getClipBufPre_clipContextDraw()?(i.useProgram(this.shaderProgramOff),this._$vS=ub(i,this._$vS,d),this._$no=vb(i,this._$no,c),i.enableVertexAttribArray(this.a_position_Loc_Off),i.vertexAttribPointer(this.a_position_Loc_Off,2,i.FLOAT,!1,0,0),this._$NT=ub(i,this._$NT,e),i.activeTexture(i.TEXTURE1),i.bindTexture(i.TEXTURE_2D,this.textures[a]),i.uniform1i(this.s_texture0_Loc_Off,1),i.enableVertexAttribArray(this.a_texCoord_Loc_Off),i.vertexAttribPointer(this.a_texCoord_Loc_Off,2,i.FLOAT,!1,0,0),i.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),i.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),i.activeTexture(i.TEXTURE2),i.bindTexture(i.TEXTURE_2D,ib.fTexture[this.glno]),i.uniform1i(this.s_texture1_Loc_Off,2),n=this.getClipBufPre_clipContextDraw().layoutChannelNo,o=this.getChannelFlagAsColor(n),i.uniform4f(this.u_channelFlag_Loc_Off,o.r,o.g,o.b,o.a),i.uniform4f(this.u_baseColor_Loc_Off,j,k,l,m)):(i.useProgram(this.shaderProgram),this._$vS=ub(i,this._$vS,d),this._$no=vb(i,this._$no,c),i.enableVertexAttribArray(this.a_position_Loc),i.vertexAttribPointer(this.a_position_Loc,2,i.FLOAT,!1,0,0),this._$NT=ub(i,this._$NT,e),i.activeTexture(i.TEXTURE1),i.bindTexture(i.TEXTURE_2D,this.textures[a]),i.uniform1i(this.s_texture0_Loc,1),i.enableVertexAttribArray(this.a_texCoord_Loc),i.vertexAttribPointer(this.a_texCoord_Loc,2,i.FLOAT,!1,0,0),i.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),i.uniform4f(this.u_baseColor_Loc,j,k,l,m),i.uniform1i(this.u_maskFlag_Loc,!1)),this.culling?this.gl.enable(i.CULL_FACE):this.gl.disable(i.CULL_FACE),this.gl.enable(i.BLEND),null!=this.clipBufPre_clipContextMask)q=i.ONE,r=i.ONE_MINUS_SRC_ALPHA,s=i.ONE,t=i.ONE_MINUS_SRC_ALPHA;else switch(g){case lb._$ms:q=i.ONE,r=i.ONE_MINUS_SRC_ALPHA,s=i.ONE,t=i.ONE_MINUS_SRC_ALPHA;break;case lb._$ns:q=i.ONE,r=i.ONE,s=i.ZERO,t=i.ONE;break;case lb._$_s:q=i.DST_COLOR,r=i.ONE_MINUS_SRC_ALPHA,s=i.ZERO,t=i.ONE}i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(q,r,s,t),this.anisotropyExt&&i.texParameteri(i.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy),u=c.length,i.drawElements(i.TRIANGLES,u,i.UNSIGNED_SHORT,0),i.bindTexture(i.TEXTURE_2D,null)}},tb.prototype._$Rs=function(){throw new Error("_$Rs")},tb.prototype._$Ds=function(){throw new Error("_$Ds")},tb.prototype._$K2=function(){for(var a=0;a<this.textures.length;a++)0!=this.textures[a]&&(this.gl._$K2(1,this.textures,a),this.textures[a]=null)},tb.prototype.setTexture=function(a,b){this.textures[a]=b},tb.prototype.initShader=function(){var a=this.gl;this.loadShaders2(),this.a_position_Loc=a.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=a.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=a.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=a.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=a.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=a.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=a.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=a.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=a.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=a.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=a.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=a.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=a.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=a.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=a.getUniformLocation(this.shaderProgramOff,"u_baseColor")},tb.prototype.disposeShader=function(){var a=this.gl;this.shaderProgram&&(a.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(a.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},tb.prototype.compileShader=function(a,b){var f,c=this.gl,d=b,e=c.createShader(a);return null==e?(h._$Ji("_$L0 to create shader"),null):(c.shaderSource(e,d),c.compileShader(e),c.getShaderParameter(e,c.COMPILE_STATUS)?e:(f=c.getShaderInfoLog(e),h._$Ji("_$L0 to compile shader : "+f),c.deleteShader(e),null))},tb.prototype.loadShaders2=function(){var b,a=this.gl;return this.shaderProgram=a.createProgram(),this.shaderProgram?(this.shaderProgramOff=a.createProgram(),this.shaderProgramOff?(this.vertShader=this.compileShader(a.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}"),this.vertShader?(this.vertShaderOff=this.compileShader(a.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}"),this.vertShaderOff?(this.fragShader=this.compileShader(a.FRAGMENT_SHADER,"precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}"),this.fragShader?(this.fragShaderOff=this.compileShader(a.FRAGMENT_SHADER,"precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}"),this.fragShaderOff?(a.attachShader(this.shaderProgram,this.vertShader),a.attachShader(this.shaderProgram,this.fragShader),a.attachShader(this.shaderProgramOff,this.vertShaderOff),a.attachShader(this.shaderProgramOff,this.fragShaderOff),a.linkProgram(this.shaderProgram),a.linkProgram(this.shaderProgramOff),a.getProgramParameter(this.shaderProgram,a.LINK_STATUS)?!0:(b=a.getProgramInfoLog(this.shaderProgram),h._$Ji("_$L0 to link program: "+b),this.vertShader&&(a.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(a.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(a.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(a.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(a.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(a.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1)):(h._$Ji("OffFragment shader compile _$li!"),!1)):(h._$Ji("Fragment shader compile _$li!"),!1)):(h._$Ji("OffVertex shader compile _$li!"),!1)):(h._$Ji("Vertex shader compile _$li!"),!1)):!1):!1},tb.prototype.createFramebuffer=function(){var d,e,a=this.gl,b=ib.clippingMaskBufferSize,c=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,c),d=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,d),a.renderbufferStorage(a.RENDERBUFFER,a.RGBA4,b,b),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,d),e=a.createTexture(),a.bindTexture(a.TEXTURE_2D,e),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,b,0,a.RGBA,a.UNSIGNED_BYTE,null),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e,0),a.bindTexture(a.TEXTURE_2D,null),a.bindRenderbuffer(a.RENDERBUFFER,null),a.bindFramebuffer(a.FRAMEBUFFER,null),ib.fTexture[this.glno]=e,{framebuffer:c,renderbuffer:d,texture:ib.fTexture[this.glno]}},wb.prototype._$fP=function(){var a,b,c,d=this._$ST();if(0==(128&d))return 255&d;if(0==(128&(a=this._$ST())))return(127&d)<<7|127&a;if(0==(128&(b=this._$ST())))return(127&d)<<14|(127&a)<<7|255&b;if(0==(128&(c=this._$ST())))return(127&d)<<21|(127&a)<<14|(127&b)<<7|255&c;throw new kb("_$L _$0P  _")},wb.prototype.getFormatVersion=function(){return this._$S2},wb.prototype._$gr=function(a){this._$S2=a},wb.prototype._$3L=function(){return this._$fP()},wb.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},wb.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},wb.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},wb.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},wb.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},wb.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new kb("_$L _$q read long")},wb.prototype._$po=function(){return this._$zT(),0!=this._$T.getInt8(this._$F++)},Eb=!0,wb.prototype._$bT=function(){var a,b,c,d,e;if(this._$zT(),a=this._$3L(),b=null,Eb)try{for(c=new ArrayBuffer(2*a),b=new Uint16Array(c),d=0;a>d;++d)b[d]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,b)}catch(a){Eb=!1}try{if(e=new Array,null==b)for(d=0;a>d;++d)e[d]=this._$T.getUint8(this._$F++);else for(d=0;a>d;++d)e[d]=b[d];return String.fromCharCode.apply(null,e)}catch(a){console.log("read utf8 / _$rT _$L0 !! : "+a)}},wb.prototype._$cS=function(){this._$zT();for(var a=this._$3L(),b=new Int32Array(a),c=0;a>c;c++)b[c]=this._$T.getInt32(this._$F),this._$F+=4;return b},wb.prototype._$Tb=function(){this._$zT();for(var a=this._$3L(),b=new Float32Array(a),c=0;a>c;c++)b[c]=this._$T.getFloat32(this._$F),this._$F+=4;return b},wb.prototype._$5b=function(){this._$zT();for(var a=this._$3L(),b=new Float64Array(a),c=0;a>c;c++)b[c]=this._$T.getFloat64(this._$F),this._$F+=8;return b},wb.prototype._$nP=function(){return this._$Jb(-1)},wb.prototype._$Jb=function(a){var b,c;if(this._$zT(),0>a&&(a=this._$3L()),a==O._$7P){if(b=this._$6L(),b>=0&&b<this._$Ko.length)return this._$Ko[b];throw new kb("_$sL _$4i @_$m0")}return c=this._$4b(a),this._$Ko.push(c),c},wb.prototype._$4b=function(a){var b,c,d,e,g;
if(0==a)return null;if(50==a)return b=this._$bT(),c=I.getID(b);if(51==a)return b=this._$bT(),c=sb.getID(b);if(134==a)return b=this._$bT(),c=k.getID(b);if(60==a)return b=this._$bT(),c=n.getID(b);if(a>=48)return d=O._$9o(a),null!=d?(d._$F0(this),d):null;switch(a){case 1:return this._$bT();case 10:return new f(this._$6L(),!0);case 11:return new w(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new w(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new y(this._$mP(),this._$mP());case 14:return new y(this._$_T(),this._$_T());case 15:for(e=this._$3L(),c=new Array(e),g=0;e>g;g++)c[g]=this._$nP();return c;case 17:return c=new J(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());case 21:return new j(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new nb(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new kb("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+a);default:throw new kb("_$6 _$q : _$nP() NO _$i : "+a)}},wb.prototype._$8L=function(){return 0==this._$hL?this._$v0=this._$ST():8==this._$hL&&(this._$v0=this._$ST(),this._$hL=0),1==(1&this._$v0>>7-this._$hL++)},wb.prototype._$zT=function(){0!=this._$hL&&(this._$hL=0)},xb.prototype._$wP=function(a,b,c){var d,e,f;for(d=0;c>d;d++){for(e=0;b>e;e++)f=2*(e+d*b),console.log("(% 7.3f , % 7.3f) , ",a[f],a[f+1]);console.log("\n")}console.log("\n")},yb._$2S=Math.PI/180,yb._$bS=Math.PI/180,yb._$wS=180/Math.PI,yb._$NS=180/Math.PI,yb.PI_F=Math.PI,yb._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],yb._$92=function(a,b){var c=Math.atan2(a[1],a[0]),d=Math.atan2(b[1],b[0]);return yb._$tS(c,d)},yb._$tS=function(a,b){for(var c=a-b;c<-Math.PI;)c+=2*Math.PI;for(;c>Math.PI;)c-=2*Math.PI;return c},yb._$9=function(a){return Math.sin(a)},yb.fcos=function(a){return Math.cos(a)},zb.prototype._$u2=function(){return this._$IS[0]},zb.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},zb.prototype._$GT=function(){return this._$e0},Ab._$W2=0,Ab.SYSTEM_INFO=null,Ab.USER_AGENT=navigator.userAgent,Ab.isIPhone=function(){return Ab.SYSTEM_INFO||Ab.setup(),Ab.SYSTEM_INFO._isIPhone},Ab.isIOS=function(){return Ab.SYSTEM_INFO||Ab.setup(),Ab.SYSTEM_INFO._isIPhone||Ab.SYSTEM_INFO._isIPad},Ab.isAndroid=function(){return Ab.SYSTEM_INFO||Ab.setup(),Ab.SYSTEM_INFO._isAndroid},Ab.getOSVersion=function(){return Ab.SYSTEM_INFO||Ab.setup(),Ab.SYSTEM_INFO.version},Ab.getOS=function(){return Ab.SYSTEM_INFO||Ab.setup(),Ab.SYSTEM_INFO._isIPhone||Ab.SYSTEM_INFO._isIPad?"iOS":Ab.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},Ab.setup=function(){function a(a,b){var c,d,e,f;for(c=a.substring(b).split(/[ _,;\.]/),d=0,e=0;2>=e&&!isNaN(c[e]);e++){if(f=parseInt(c[e]),0>f||f>999){h._$li("err : "+f+" @UtHtml5.setup()"),d=0;break}d+=f*Math.pow(1e3,2-e)}return d}var b,c=Ab.USER_AGENT,d=Ab.SYSTEM_INFO={userAgent:c};if((b=c.indexOf("iPhone OS "))>=0)d.os="iPhone",d._isIPhone=!0,d.version=a(c,b+"iPhone OS ".length);else if((b=c.indexOf("iPad"))>=0){if((b=c.indexOf("CPU OS"))<0)return void h._$li(" err : "+c+" @UtHtml5.setup()");d.os="iPad",d._isIPad=!0,d.version=a(c,b+"CPU OS ".length)}else(b=c.indexOf("Android"))>=0?(d.os="Android",d._isAndroid=!0,d.version=a(c,b+"Android ".length)):(d.os="-",d.version=-1)},window.UtSystem=D,window.UtDebug=h,window.LDTransform=rb,window.LDGL=fb,window.Live2D=ib,window.Live2DModelWebGL=ob,window.Live2DModelJS=X,window.Live2DMotion=Y,window.MotionQueueManager=pb,window.PhysicsHair=p,window.AMotion=g,window.PartsDataID=k,window.DrawDataID=I,window.BaseDataID=sb,window.ParamID=n,ib.init(),Bb=!1}()}.call(b,c(7))},function(a){a.exports={"import":function(){throw new Error("System.import cannot be used indirectly")}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){this.models=[],this.count=-1,this.reloadFlg=!1,Live2D.init(),f.Live2DFramework.setPlatformManager(new h.default)}Object.defineProperty(b,"__esModule",{value:!0}),b.default=e;var f=c(0),g=c(9),h=d(g),i=c(10),j=d(i),k=c(1),l=d(k);e.prototype.createModel=function(){var a=new j.default;return this.models.push(a),a},e.prototype.changeModel=function(a,b){this.reloadFlg&&(this.reloadFlg=!1,this.releaseModel(0,a),this.createModel(),this.models[0].load(a,b))},e.prototype.getModel=function(a){return a>=this.models.length?null:this.models[a]},e.prototype.releaseModel=function(a,b){this.models.length<=a||(this.models[a].release(b),delete this.models[a],this.models.splice(a,1))},e.prototype.numModels=function(){return this.models.length},e.prototype.setDrag=function(a,b){for(var c=0;c<this.models.length;c++)this.models[c].setDrag(a,b)},e.prototype.maxScaleEvent=function(){l.default.DEBUG_LOG&&console.log("Max scale event.");for(var a=0;a<this.models.length;a++)this.models[a].startRandomMotion(l.default.MOTION_GROUP_PINCH_IN,l.default.PRIORITY_NORMAL)},e.prototype.minScaleEvent=function(){l.default.DEBUG_LOG&&console.log("Min scale event.");for(var a=0;a<this.models.length;a++)this.models[a].startRandomMotion(l.default.MOTION_GROUP_PINCH_OUT,l.default.PRIORITY_NORMAL)},e.prototype.tapEvent=function(a,b){l.default.DEBUG_LOG&&console.log("tapEvent view x:"+a+" y:"+b);for(var c=0;c<this.models.length;c++)this.models[c].hitTest(l.default.HIT_AREA_HEAD,a,b)?(l.default.DEBUG_LOG&&console.log("Tap face."),this.models[c].setRandomExpression()):this.models[c].hitTest(l.default.HIT_AREA_BODY,a,b)?(l.default.DEBUG_LOG&&console.log("Tap body. models["+c+"]"),this.models[c].startRandomMotion(l.default.MOTION_GROUP_TAP_BODY,l.default.PRIORITY_NORMAL)):this.models[c].hitTestCustom("head",a,b)?(l.default.DEBUG_LOG&&console.log("Tap face."),this.models[c].startRandomMotion(l.default.MOTION_GROUP_FLICK_HEAD,l.default.PRIORITY_NORMAL)):this.models[c].hitTestCustom("body",a,b)&&(l.default.DEBUG_LOG&&console.log("Tap body. models["+c+"]"),this.models[c].startRandomMotion(l.default.MOTION_GROUP_TAP_BODY,l.default.PRIORITY_NORMAL));return!0}},function(a,b,c){"use strict";function d(){}Object.defineProperty(b,"__esModule",{value:!0}),b.default=d;var e=c(2);d.prototype.loadBytes=function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="arraybuffer",c.onload=function(){switch(c.status){case 200:b(c.response);break;default:console.error("Failed to load ("+c.status+") : "+a)}},c.send(null)},d.prototype.loadString=function(a){this.loadBytes(a,function(a){return a})},d.prototype.loadLive2DModel=function(a,b){var c=null;this.loadBytes(a,function(a){c=Live2DModelWebGL.loadModel(a),b(c)})},d.prototype.loadTexture=function(a,b,c,d){var f=new Image;f.src=c,f.crossOrigin="Anonymous",f.onload=function(){var c=e.getContext(),g=c.createTexture();return g?(0==a.isPremultipliedAlpha()&&c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,1),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,g),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,f),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_NEAREST),c.generateMipmap(c.TEXTURE_2D),a.setTexture(b,g),g=null,"function"==typeof d&&d(),void 0):(console.error("Failed to generate gl texture name."),-1)},f.onerror=function(){console.error("Failed to load image : "+c)}},d.prototype.jsonParseFromBytes=function(a){var b,c=new Uint8Array(a,0,3);return b=239==c[0]&&187==c[1]&&191==c[2]?String.fromCharCode.apply(null,new Uint8Array(a,3)):String.fromCharCode.apply(null,new Uint8Array(a)),JSON.parse(b)},d.prototype.log=function(){}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){f.L2DBaseModel.prototype.constructor.call(this),this.modelHomeDir="",this.modelSetting=null,this.tmpMatrix=[]}Object.defineProperty(b,"__esModule",{value:!0}),b.default=e;var f=c(0),g=c(11),h=d(g),i=c(1),j=d(i),k=c(3),l=d(k);e.prototype=new f.L2DBaseModel,e.prototype.load=function(a,b,c){this.setUpdating(!0),this.setInitialized(!1),this.modelHomeDir=b.substring(0,b.lastIndexOf("/")+1),this.modelSetting=new h.default;var d=this;this.modelSetting.loadModelSetting(b,function(){var a=d.modelHomeDir+d.modelSetting.getModelFile();d.loadModelData(a,function(){var b,e;for(b=0;b<d.modelSetting.getTextureNum();b++)e=/^https?:\/\/|^\/\//i.test(d.modelSetting.getTextureFile(b))?d.modelSetting.getTextureFile(b):d.modelHomeDir+d.modelSetting.getTextureFile(b),d.loadTexture(b,e,function(){var a,b,e,f,g;if(d.isTexLoaded){if(d.modelSetting.getExpressionNum()>0)for(d.expressions={},a=0;a<d.modelSetting.getExpressionNum();a++)b=d.modelSetting.getExpressionName(a),e=d.modelHomeDir+d.modelSetting.getExpressionFile(a),d.loadExpression(b,e);else d.expressionManager=null,d.expressions={};for(d.eyeBlink,null!=d.modelSetting.getPhysicsFile()?d.loadPhysics(d.modelHomeDir+d.modelSetting.getPhysicsFile()):d.physics=null,null!=d.modelSetting.getPoseFile()?d.loadPose(d.modelHomeDir+d.modelSetting.getPoseFile(),function(){d.pose.updateParam(d.live2DModel)}):d.pose=null,null!=d.modelSetting.getLayout()&&(f=d.modelSetting.getLayout(),null!=f.width&&d.modelMatrix.setWidth(f.width),null!=f.height&&d.modelMatrix.setHeight(f.height),null!=f.x&&d.modelMatrix.setX(f.x),null!=f.y&&d.modelMatrix.setY(f.y),null!=f.center_x&&d.modelMatrix.centerX(f.center_x),null!=f.center_y&&d.modelMatrix.centerY(f.center_y),null!=f.top&&d.modelMatrix.top(f.top),null!=f.bottom&&d.modelMatrix.bottom(f.bottom),null!=f.left&&d.modelMatrix.left(f.left),null!=f.right&&d.modelMatrix.right(f.right)),null!=d.modelSetting.getHitAreasCustom()&&(g=d.modelSetting.getHitAreasCustom(),null!=g.head_x&&(j.default.hit_areas_custom_head_x=g.head_x),null!=g.head_y&&(j.default.hit_areas_custom_head_y=g.head_y),null!=g.body_x&&(j.default.hit_areas_custom_body_x=g.body_x),null!=g.body_y&&(j.default.hit_areas_custom_body_y=g.body_y)),a=0;a<d.modelSetting.getInitParamNum();a++)d.live2DModel.setParamFloat(d.modelSetting.getInitParamID(a),d.modelSetting.getInitParamValue(a));for(a=0;a<d.modelSetting.getInitPartsVisibleNum();a++)d.live2DModel.setPartsOpacity(d.modelSetting.getInitPartsVisibleID(a),d.modelSetting.getInitPartsVisibleValue(a));d.live2DModel.saveParam(),d.preloadMotionGroup(j.default.MOTION_GROUP_IDLE),d.preloadMotionGroup(j.default.MOTION_GROUP_SLEEPY),d.mainMotionManager.stopAllMotions(),d.setUpdating(!1),d.setInitialized(!0),"function"==typeof c&&c()}})})})},e.prototype.release=function(a){var b=f.Live2DFramework.getPlatformManager();a.deleteTexture(b.texture)},e.prototype.preloadMotionGroup=function(a){var b,c,d;for(b=this,c=0;c<this.modelSetting.getMotionNum(a);c++)d=this.modelSetting.getMotionFile(a,c),this.loadMotion(d,this.modelHomeDir+d,function(d){d.setFadeIn(b.modelSetting.getMotionFadeIn(a,c)),d.setFadeOut(b.modelSetting.getMotionFadeOut(a,c))})},e.prototype.update=function(){if(null==this.live2DModel)return void(j.default.DEBUG_LOG&&console.error("Failed to update."));var a=UtSystem.getUserTimeMSec()-this.startTimeMSec,b=a/1e3,c=2*b*Math.PI;this.mainMotionManager.isFinished()&&("1"===sessionStorage.getItem("Sleepy")?this.startRandomMotion(j.default.MOTION_GROUP_SLEEPY,j.default.PRIORITY_SLEEPY):this.startRandomMotion(j.default.MOTION_GROUP_IDLE,j.default.PRIORITY_IDLE)),this.live2DModel.loadParam(),this.mainMotionManager.updateParam(this.live2DModel)||null!=this.eyeBlink&&this.eyeBlink.updateParam(this.live2DModel),this.live2DModel.saveParam(),null==this.expressionManager||null==this.expressions||this.expressionManager.isFinished()||this.expressionManager.updateParam(this.live2DModel),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",30*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",30*this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",-30*this.dragX*this.dragY,1),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",10*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_X",this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_Y",this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",Number(15*Math.sin(c/6.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",Number(8*Math.sin(c/3.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",Number(10*Math.sin(c/5.5345)),.5),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",Number(4*Math.sin(c/15.5345)),.5),this.live2DModel.setParamFloat("PARAM_BREATH",Number(.5+.5*Math.sin(c/3.2345)),1),null!=this.physics&&this.physics.updateParam(this.live2DModel),null==this.lipSync&&this.live2DModel.setParamFloat("PARAM_MOUTH_OPEN_Y",this.lipSyncValue),null!=this.pose&&this.pose.updateParam(this.live2DModel),this.live2DModel.update()},e.prototype.setRandomExpression=function(){var b,c,a=[];for(b in this.expressions)a.push(b);c=parseInt(Math.random()*a.length),this.setExpression(a[c])},e.prototype.startRandomMotion=function(a,b){var c=this.modelSetting.getMotionNum(a),d=parseInt(Math.random()*c);this.startMotion(a,d,b)},e.prototype.startMotion=function(a,b,c){var e,f,d=this.modelSetting.getMotionFile(a,b);if(null==d||""==d)return void(j.default.DEBUG_LOG&&console.error("Failed to motion."));if(c==j.default.PRIORITY_FORCE)this.mainMotionManager.setReservePriority(c);else if(!this.mainMotionManager.reserveMotion(c))return void(j.default.DEBUG_LOG&&console.log("Motion is running."));f=this,null==this.motions[a]?this.loadMotion(null,this.modelHomeDir+d,function(d){e=d,f.setFadeInFadeOut(a,b,c,e)}):(e=this.motions[a],f.setFadeInFadeOut(a,b,c,e))},e.prototype.setFadeInFadeOut=function(a,b,c,d){var f,g,e=this.modelSetting.getMotionFile(a,b);d.setFadeIn(this.modelSetting.getMotionFadeIn(a,b)),d.setFadeOut(this.modelSetting.getMotionFadeOut(a,b)),j.default.DEBUG_LOG&&console.log("Start motion : "+e),null==this.modelSetting.getMotionSound(a,b)?this.mainMotionManager.startMotionPrio(d,c):(f=this.modelSetting.getMotionSound(a,b),g=document.createElement("audio"),g.src=this.modelHomeDir+f,j.default.DEBUG_LOG&&console.log("Start sound : "+f),g.play(),this.mainMotionManager.startMotionPrio(d,c))},e.prototype.setExpression=function(a){var b=this.expressions[a];j.default.DEBUG_LOG&&console.log("Expression : "+a),this.expressionManager.startMotion(b,!1)},e.prototype.draw=function(){l.default.push(),l.default.multMatrix(this.modelMatrix.getArray()),this.tmpMatrix=l.default.getMatrix(),this.live2DModel.setMatrix(this.tmpMatrix),this.live2DModel.draw(),l.default.pop()},e.prototype.hitTest=function(a,b,c){var d,e,f;for(d=this.modelSetting.getHitAreaNum(),e=0;d>e;e++)if(a==this.modelSetting.getHitAreaName(e))return f=this.modelSetting.getHitAreaID(e),this.hitTestSimple(f,b,c);return!1},e.prototype.hitTestCustom=function(a,b,c){return"head"==a?this.hitTestSimpleCustom(j.default.hit_areas_custom_head_x,j.default.hit_areas_custom_head_y,b,c):"body"==a&&this.hitTestSimpleCustom(j.default.hit_areas_custom_body_x,j.default.hit_areas_custom_body_y,b,c)}},function(a,b,c){"use strict";function d(){this.NAME="name",this.ID="id",this.MODEL="model",this.TEXTURES="textures",this.HIT_AREAS="hit_areas",this.PHYSICS="physics",this.POSE="pose",this.EXPRESSIONS="expressions",this.MOTION_GROUPS="motions",this.SOUND="sound",this.FADE_IN="fade_in",this.FADE_OUT="fade_out",this.LAYOUT="layout",this.HIT_AREAS_CUSTOM="hit_areas_custom",this.INIT_PARAM="init_param",this.INIT_PARTS_VISIBLE="init_parts_visible",this.VALUE="val",this.FILE="file",this.json={}}Object.defineProperty(b,"__esModule",{value:!0}),b.default=d;var e=c(0);d.prototype.loadModelSetting=function(a,b){var c=this;e.Live2DFramework.getPlatformManager().loadBytes(a,function(a){var d=String.fromCharCode.apply(null,new Uint8Array(a));c.json=JSON.parse(d),b()})},d.prototype.getTextureFile=function(a){return null==this.json[this.TEXTURES]||null==this.json[this.TEXTURES][a]?null:this.json[this.TEXTURES][a]},d.prototype.getModelFile=function(){return this.json[this.MODEL]},d.prototype.getTextureNum=function(){return null==this.json[this.TEXTURES]?0:this.json[this.TEXTURES].length},d.prototype.getHitAreaNum=function(){return null==this.json[this.HIT_AREAS]?0:this.json[this.HIT_AREAS].length},d.prototype.getHitAreaID=function(a){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][a]?null:this.json[this.HIT_AREAS][a][this.ID]},d.prototype.getHitAreaName=function(a){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][a]?null:this.json[this.HIT_AREAS][a][this.NAME]},d.prototype.getPhysicsFile=function(){return this.json[this.PHYSICS]},d.prototype.getPoseFile=function(){return this.json[this.POSE]},d.prototype.getExpressionNum=function(){return null==this.json[this.EXPRESSIONS]?0:this.json[this.EXPRESSIONS].length},d.prototype.getExpressionFile=function(a){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][a][this.FILE]},d.prototype.getExpressionName=function(a){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][a][this.NAME]},d.prototype.getLayout=function(){return this.json[this.LAYOUT]},d.prototype.getHitAreasCustom=function(){return this.json[this.HIT_AREAS_CUSTOM]},d.prototype.getInitParamNum=function(){return null==this.json[this.INIT_PARAM]?0:this.json[this.INIT_PARAM].length},d.prototype.getMotionNum=function(a){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][a]?0:this.json[this.MOTION_GROUPS][a].length},d.prototype.getMotionFile=function(a,b){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][a]||null==this.json[this.MOTION_GROUPS][a][b]?null:this.json[this.MOTION_GROUPS][a][b][this.FILE]},d.prototype.getMotionSound=function(a,b){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][a]||null==this.json[this.MOTION_GROUPS][a][b]||null==this.json[this.MOTION_GROUPS][a][b][this.SOUND]?null:this.json[this.MOTION_GROUPS][a][b][this.SOUND]},d.prototype.getMotionFadeIn=function(a,b){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][a]||null==this.json[this.MOTION_GROUPS][a][b]||null==this.json[this.MOTION_GROUPS][a][b][this.FADE_IN]?1e3:this.json[this.MOTION_GROUPS][a][b][this.FADE_IN]},d.prototype.getMotionFadeOut=function(a,b){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][a]||null==this.json[this.MOTION_GROUPS][a][b]||null==this.json[this.MOTION_GROUPS][a][b][this.FADE_OUT]?1e3:this.json[this.MOTION_GROUPS][a][b][this.FADE_OUT]},d.prototype.getInitParamID=function(a){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][a]?null:this.json[this.INIT_PARAM][a][this.ID]},d.prototype.getInitParamValue=function(a){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][a]?0/0:this.json[this.INIT_PARAM][a][this.VALUE]},d.prototype.getInitPartsVisibleNum=function(){return null==this.json[this.INIT_PARTS_VISIBLE]?0:this.json[this.INIT_PARTS_VISIBLE].length},d.prototype.getInitPartsVisibleID=function(a){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][a]?null:this.json[this.INIT_PARTS_VISIBLE][a][this.ID]},d.prototype.getInitPartsVisibleValue=function(a){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][a]?0/0:this.json[this.INIT_PARTS_VISIBLE][a][this.VALUE]}}]);